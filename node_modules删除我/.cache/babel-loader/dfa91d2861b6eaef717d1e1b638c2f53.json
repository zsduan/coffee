{"remainingRequest":"D:\\培训\\提交项目\\my-project\\node_modules\\thread-loader\\dist\\cjs.js!D:\\培训\\提交项目\\my-project\\node_modules\\babel-loader\\lib\\index.js!D:\\培训\\提交项目\\my-project\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\培训\\提交项目\\my-project\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\培训\\提交项目\\my-project\\src\\views\\mainViews\\Order.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\培训\\提交项目\\my-project\\src\\views\\mainViews\\Order.vue","mtime":1594802809355},{"path":"D:\\培训\\提交项目\\my-project\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\培训\\提交项目\\my-project\\node_modules\\thread-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\培训\\提交项目\\my-project\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\培训\\提交项目\\my-project\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\培训\\提交项目\\my-project\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZm9yLWVhY2giOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5pbmRleC1vZiI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC5rZXlzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5mb3ItZWFjaCI7CmltcG9ydCAidmFudC9lcy90b2FzdC9zdHlsZSI7CmltcG9ydCBfVG9hc3QgZnJvbSAidmFudC9lcy90b2FzdCI7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnT3JkZXInLAogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7CiAgICB0aGlzLmdldE9yZGVyRGF0YSgpOwogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIC8vIOWGheWuueaYvuekugogICAgICBhY3RpdmU6IDAsCiAgICAgIC8vIOWFqOmDqAogICAgICBhbGw6ICIiLAogICAgICAvLyDlvoXmlLbotKcKICAgICAgd2FpdDogMCwKICAgICAgLy8g56Gu6K6k5pS26LSnCiAgICAgIGNvbmZpcm06IDAsCiAgICAgIC8vIOS/neWtmOWVhuWTgeS7t+agvOWSjOaVsOmHjwogICAgICBudW1wcmljZTogW10sCiAgICAgIC8vIOS/neWtmOiuouWNlee8luWPtwogICAgICBvaWRzOiBbXQogICAgfTsKICB9LAogIG1ldGhvZHM6IHsKICAgIC8vIOWbnuWIsOiPnOWNlQogICAgZ29NZW51OiBmdW5jdGlvbiBnb01lbnUoKSB7CiAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHsKICAgICAgICBuYW1lOiAiTWVudSIKICAgICAgfSk7CiAgICB9LAogICAgLy8g6I635Y+W6K6i5Y2V5pWw5o2uCiAgICBnZXRPcmRlckRhdGE6IGZ1bmN0aW9uIGdldE9yZGVyRGF0YSgpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIC8vIOiOt+WPluacrOWcsOaVsOaNrgogICAgICB2YXIgdG9rZW5TdHJpbmcgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgiX19UayIpOwoKICAgICAgaWYgKHRva2VuU3RyaW5nID09IHVuZGVmaW5lZCkgewogICAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHsKICAgICAgICAgIG5hbWU6ICJMb2dpbiIKICAgICAgICB9KTsKICAgICAgfSAvL+W8gOWQr+WKoOi9veaPkOekugoKCiAgICAgIF9Ub2FzdC5sb2FkaW5nKHsKICAgICAgICBtZXNzYWdlOiAi5Yqg6L295LitLi4uIiwKICAgICAgICBmb3JiaWRDbGljazogdHJ1ZSwKICAgICAgICAvL+W7tui/n+iHquWKqOWFs+mXreWKoOi9veaPkOekuu+8jOWmguaenOivpeWAvOS4ujDvvIzliJnkuI3kvJroh6rliqjlhbPpl60KICAgICAgICBkdXJhdGlvbjogMAogICAgICB9KTsKCiAgICAgIHRoaXMuYXhpb3MoewogICAgICAgIG1ldGhvZDogImdldCIsCiAgICAgICAgdXJsOiAiL2ZpbmRPcmRlciIsCiAgICAgICAgcGFyYW1zOiB7CiAgICAgICAgICBhcHBrZXk6IHRoaXMuYXBwa2V5LAogICAgICAgICAgdG9rZW5TdHJpbmc6IHRva2VuU3RyaW5nLAogICAgICAgICAgc3RhdHVzOiB0aGlzLmFjdGl2ZQogICAgICAgIH0KICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzdWx0KSB7CiAgICAgICAgX1RvYXN0LmNsZWFyKCk7CgogICAgICAgIF9Ub2FzdChyZXN1bHQuZGF0YS5tc2cpOwoKICAgICAgICBpZiAocmVzdWx0LmRhdGEuY29kZSA9PSA3MDAwMCkgewogICAgICAgICAgLy/pmY3luo/mjpLluo8KICAgICAgICAgIHJlc3VsdC5kYXRhLnJlc3VsdC5zb3J0KGZ1bmN0aW9uIChhLCBiKSB7CiAgICAgICAgICAgIHJldHVybiBuZXcgRGF0ZShiLmNyZWF0ZWRBdCkuZ2V0VGltZSgpIC0gbmV3IERhdGUoYS5jcmVhdGVkQXQpLmdldFRpbWUoKTsKICAgICAgICAgIH0pOyAvLyDojrflj5borqLljZXnvJblj7cKCiAgICAgICAgICB2YXIgb2lkcyA9IFtdOwogICAgICAgICAgcmVzdWx0LmRhdGEucmVzdWx0LmZvckVhY2goZnVuY3Rpb24gKHYpIHsKICAgICAgICAgICAgaWYgKG9pZHMuaW5kZXhPZih2Lm9pZCkgPT0gLTEpIHsKICAgICAgICAgICAgICBvaWRzLnB1c2godi5vaWQpOwogICAgICAgICAgICB9CiAgICAgICAgICB9KTsKICAgICAgICAgIF90aGlzLm9pZHMgPSBvaWRzOyAvLyDojrflj5borqLljZXmlbDmja4KCiAgICAgICAgICB2YXIgb3JkZXJEYXRhID0gW107CiAgICAgICAgICByZXN1bHQuZGF0YS5yZXN1bHQuZm9yRWFjaChmdW5jdGlvbiAodikgewogICAgICAgICAgICBpZiAoIW9yZGVyRGF0YVt2Lm9pZF0pIHsKICAgICAgICAgICAgICBvcmRlckRhdGFbdi5vaWRdID0gewogICAgICAgICAgICAgICAgZGF0YTogW3ZdLAogICAgICAgICAgICAgICAgc3RhdHVzOiB2LnN0YXR1cywKICAgICAgICAgICAgICAgIGNyZWF0ZWRBdDogdi5jcmVhdGVkQXQKICAgICAgICAgICAgICB9OwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgIG9yZGVyRGF0YVt2Lm9pZF0uZGF0YS5wdXNoKHYpOwogICAgICAgICAgICB9CiAgICAgICAgICB9KTsKICAgICAgICAgIF90aGlzLmFsbCA9IG9yZGVyRGF0YTsgLy8g6K6h566X5Lu35qC8CgogICAgICAgICAgZm9yICh2YXIga2V5IGluIF90aGlzLmFsbCkgewogICAgICAgICAgICBfdGhpcy5zdW10b3RhbChfdGhpcy5hbGxba2V5XS5kYXRhKTsKICAgICAgICAgIH0KCiAgICAgICAgICBpZiAoX3RoaXMuYWN0aXZlID09IDEpIHsKICAgICAgICAgICAgX3RoaXMud2FpdCA9IE9iamVjdC5rZXlzKF90aGlzLmFsbCk7CiAgICAgICAgICB9CgogICAgICAgICAgaWYgKF90aGlzLmFjdGl2ZSA9PSAyKSB7CiAgICAgICAgICAgIF90aGlzLmNvbmZpcm0gPSBPYmplY3Qua2V5cyhfdGhpcy5hbGwpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycikgewogICAgICAgIF9Ub2FzdC5jbGVhcigpOwogICAgICB9KTsKICAgIH0sCiAgICAvLyDorqHnrpfllYblk4Hku7fmoLwKICAgIHN1bXRvdGFsOiBmdW5jdGlvbiBzdW10b3RhbChvYmopIHsKICAgICAgdmFyIHN1bSA9IDA7CiAgICAgIHZhciBwcmljZSA9IDA7CgogICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG9iai5sZW5ndGg7IGkrKykgewogICAgICAgIHN1bSArPSBvYmpbaV0uY291bnQ7CiAgICAgICAgcHJpY2UgKz0gb2JqW2ldLmNvdW50ICogb2JqW2ldLnByaWNlOwogICAgICB9CgogICAgICB0aGlzLm51bXByaWNlLnB1c2goc3VtKTsKICAgICAgdGhpcy5udW1wcmljZS5wdXNoKHByaWNlKTsKICAgIH0sCiAgICAvLyDmlLnlj5jmoIfnrb4KICAgIGNoYW5nZVRpYnM6IGZ1bmN0aW9uIGNoYW5nZVRpYnMoKSB7CiAgICAgIHRoaXMuZ2V0T3JkZXJEYXRhKCk7CiAgICB9LAogICAgLy8g56Gu6K6k5pS26LSnCiAgICBjb25maXJtT3JkZXI6IGZ1bmN0aW9uIGNvbmZpcm1PcmRlcih2KSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgLy8g6I635Y+W5pys5Zyw5pWw5o2uCiAgICAgIHZhciB0b2tlblN0cmluZyA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCJfX1RrIik7IC8v5byA5ZCv5Yqg6L295o+Q56S6CgogICAgICBfVG9hc3QubG9hZGluZyh7CiAgICAgICAgbWVzc2FnZTogIuWKoOi9veS4rS4uLiIsCiAgICAgICAgZm9yYmlkQ2xpY2s6IHRydWUsCiAgICAgICAgLy/lu7bov5/oh6rliqjlhbPpl63liqDovb3mj5DnpLrvvIzlpoLmnpzor6XlgLzkuLow77yM5YiZ5LiN5Lya6Ieq5Yqo5YWz6ZetCiAgICAgICAgZHVyYXRpb246IDAKICAgICAgfSk7CgogICAgICB0aGlzLmF4aW9zKHsKICAgICAgICBtZXRob2Q6ICJQT1NUIiwKICAgICAgICB1cmw6ICIvcmVjZWl2ZSIsCiAgICAgICAgZGF0YTogewogICAgICAgICAgYXBwa2V5OiB0aGlzLmFwcGtleSwKICAgICAgICAgIHRva2VuU3RyaW5nOiB0b2tlblN0cmluZywKICAgICAgICAgIG9pZDogdgogICAgICAgIH0KICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzdWx0KSB7CiAgICAgICAgX1RvYXN0LmNsZWFyKCk7CgogICAgICAgIGlmIChyZXN1bHQuZGF0YS5jb2RlID09IDgwMDAwKSB7CiAgICAgICAgICBfVG9hc3QocmVzdWx0LmRhdGEubXNnKTsKCiAgICAgICAgICBfdGhpczIuZ2V0T3JkZXJEYXRhKCk7CiAgICAgICAgfQogICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyKSB7fSk7CiAgICB9LAogICAgLy8g5Yig6Zmk5pWw5o2uCiAgICBkZWxEYXRhOiBmdW5jdGlvbiBkZWxEYXRhKHYpIHsKICAgICAgdmFyIF90aGlzMyA9IHRoaXM7CgogICAgICAvLyDojrflj5bmnKzlnLDmlbDmja4KICAgICAgdmFyIHRva2VuU3RyaW5nID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oIl9fVGsiKTsgLy/lvIDlkK/liqDovb3mj5DnpLoKCiAgICAgIF9Ub2FzdC5sb2FkaW5nKHsKICAgICAgICBtZXNzYWdlOiAi5Yqg6L295LitLi4uIiwKICAgICAgICBmb3JiaWRDbGljazogdHJ1ZSwKICAgICAgICAvL+W7tui/n+iHquWKqOWFs+mXreWKoOi9veaPkOekuu+8jOWmguaenOivpeWAvOS4ujDvvIzliJnkuI3kvJroh6rliqjlhbPpl60KICAgICAgICBkdXJhdGlvbjogMAogICAgICB9KTsKCiAgICAgIHRoaXMuYXhpb3MoewogICAgICAgIG1ldGhvZDogIlBPU1QiLAogICAgICAgIHVybDogIi9yZW1vdmVPcmRlciIsCiAgICAgICAgZGF0YTogewogICAgICAgICAgYXBwa2V5OiB0aGlzLmFwcGtleSwKICAgICAgICAgIHRva2VuU3RyaW5nOiB0b2tlblN0cmluZywKICAgICAgICAgIG9pZDogdgogICAgICAgIH0KICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzdWx0KSB7CiAgICAgICAgX1RvYXN0LmNsZWFyKCk7CgogICAgICAgIGlmIChyZXN1bHQuZGF0YS5jb2RlID09IDkwMDAwKSB7CiAgICAgICAgICBfVG9hc3QocmVzdWx0LmRhdGEubXNnKTsKCiAgICAgICAgICBfdGhpczMuZ2V0T3JkZXJEYXRhKCk7CiAgICAgICAgfQogICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyKSB7fSk7CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["Order.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n  <div class=\"order\">\r\n  \t<!-- 显示nav -->\r\n    <div>\r\n      <van-nav-bar title=\"订单\" class=\"nav\" @click-left=\"goMenu\">\r\n      \t<template #left>\r\n\t\t      <van-icon name=\"home-o\" size=\"24\" />\r\n\t\t    </template>\r\n      </van-nav-bar>\r\n    </div>\r\n    <div class=\"white\"></div>\r\n    <!-- 订单导航 -->\r\n    <div class=\"orderNav\">\r\n      <van-tabs v-model=\"active\" animated color=\"#FE874E\" @click=\"changeTibs\">\r\n        <!-- 全部 -->\r\n        <van-tab title=\"全部\">\r\n          <div v-if=\"typeof(all) == 'string'\">\r\n            <van-empty description=\"这里还没有数据哟~\">\r\n              <van-button color=\"#FE874E\" round class=\"bottom-button\" @click=\"goMenu\">去逛逛</van-button>\r\n            </van-empty>\r\n          </div>\r\n\r\n          <!-- 显示数据 -->\r\n          <div class=\"content\" v-for=\"(v,i) in oids\" :key=\"i\">\r\n            <div class=\"title clearfix\">\r\n              <span class=\"fl left\">{{v}}</span>\r\n              <span v-if=\"all[v].status == 1\" class=\"fr right\" @click=\"confirmOrder(v)\">确认收货</span>\r\n              <span v-if=\"all[v].status == 2\" class=\"fr right\" @click=\"delData(v)\"><van-icon name=\"delete\" /></span>\r\n              <span v-if=\"all[v].status == 2\" class=\"fr right\">已收货</span>\r\n            </div>\r\n            <div v-for=\"(item,index) in all[v].data\" :key=\"index\">\r\n              <van-card\r\n                :num=\"item.count\"\r\n                :price=\"item.price\"\r\n                :desc=\"item.rule\"\r\n                :title=\"item.name\"\r\n                :thumb=\"item.smallImg\"\r\n              />\r\n            </div>\r\n\r\n            <div class=\"bottom clearfix\">\r\n              <span class=\"fl left\">{{all[v].createdAt.substr(0,10)}}</span>\r\n              <span class=\"fr right\">\r\n                <span>共计<span>{{numprice[2*i]}}</span>件商品，共计</span>\r\n                <span>￥{{numprice[2*i+1]}}</span>\r\n              </span>\r\n            </div>\r\n          </div>\r\n        </van-tab>\r\n        <!-- 待收货 -->\r\n        <van-tab title=\"待收货\">\r\n          <div v-if=\"wait.length == 0\">\r\n            <van-empty description=\"这里还没有数据哟~\">\r\n              <van-button color=\"#FE874E\" round class=\"bottom-button\" @click=\"goMenu\">去逛逛</van-button>\r\n            </van-empty>\r\n          </div>\r\n\r\n          <!-- 显示数据 -->\r\n          <div class=\"content\" v-for=\"(v,i) in oids\" :key=\"i\">\r\n            <div class=\"title clearfix\">\r\n              <span class=\"fl left\">{{v}}</span>\r\n              <span v-if=\"all[v].status == 1\" class=\"fr right\" @click=\"confirmOrder(v)\">确认收货</span>\r\n              <span v-if=\"all[v].status == 2\" class=\"fr right\" @click=\"delData(v)\"><van-icon name=\"delete\" /></span>\r\n              <span v-if=\"all[v].status == 2\" class=\"fr right\">已收货</span>\r\n            </div>\r\n            <div v-for=\"(item,index) in all[v].data\" :key=\"index\">\r\n              <van-card\r\n                :num=\"item.count\"\r\n                :price=\"item.price\"\r\n                :desc=\"item.rule\"\r\n                :title=\"item.name\"\r\n                :thumb=\"item.smallImg\"\r\n              />\r\n            </div>\r\n\r\n            <div class=\"bottom clearfix\">\r\n              <span class=\"fl left\">{{all[v].createdAt.substr(0,10)}}</span>\r\n              <span class=\"fr right\">\r\n                <span>共计<span>{{numprice[2*i]}}</span>件商品，共计</span>\r\n                <span>￥{{numprice[2*i+1]}}</span>\r\n              </span>\r\n            </div>\r\n          </div>\r\n        </van-tab>\r\n        <!-- 已收货 -->\r\n        <van-tab title=\"已收货\">\r\n          <div v-if=\"confirm.length == 0\">\r\n            <van-empty description=\"这里还没有数据哟~\">\r\n              <van-button color=\"#FE874E\" round class=\"bottom-button\" @click=\"goMenu\">去逛逛</van-button>\r\n            </van-empty>\r\n          </div>\r\n\r\n          <!-- 显示数据 -->\r\n          <div class=\"content\" v-for=\"(v,i) in oids\" :key=\"i\">\r\n            <div class=\"title clearfix\">\r\n              <span class=\"fl left\">{{v}}</span>\r\n              <span v-if=\"all[v].status == 1\" class=\"fr right\" @click=\"confirmOrder(v)\">确认收货</span>\r\n              <span v-if=\"all[v].status == 2\" class=\"fr right\" @click=\"delData(v)\"><van-icon name=\"delete\" /></span>\r\n              <span v-if=\"all[v].status == 2\" class=\"fr right\">已收货</span>\r\n            </div>\r\n            <div v-for=\"(item,index) in all[v].data\" :key=\"index\">\r\n              <van-card\r\n                :num=\"item.count\"\r\n                :price=\"item.price\"\r\n                :desc=\"item.rule\"\r\n                :title=\"item.name\"\r\n                :thumb=\"item.smallImg\"\r\n              />\r\n            </div>\r\n\r\n            <div class=\"bottom clearfix\">\r\n              <span class=\"fl left\">{{all[v].createdAt.substr(0,10)}}</span>\r\n              <span class=\"fr right\">\r\n                <span>共计<span>{{numprice[2*i]}}</span>件商品，共计</span>\r\n                <span>￥{{numprice[2*i+1]}}</span>\r\n              </span>\r\n            </div>\r\n          </div>\r\n        </van-tab>\r\n      </van-tabs>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { Toast } from 'vant';\r\n\r\nexport default {\r\n  name: 'Order',\r\n  mounted(){\r\n    this.getOrderData();\r\n  },\r\n  data(){\r\n    return{\r\n      // 内容显示\r\n      active:0,\r\n      // 全部\r\n      all:\"\",\r\n      // 待收货\r\n      wait:0,\r\n      // 确认收货\r\n      confirm:0,\r\n      // 保存商品价格和数量\r\n      numprice:[],\r\n      // 保存订单编号\r\n      oids:[]\r\n    }\r\n  },\r\n  methods:{\r\n  \t// 回到菜单\r\n  \tgoMenu(){\r\n  \t\tthis.$router.push({name:\"Menu\"});\r\n  \t},\r\n    // 获取订单数据\r\n    getOrderData(){\r\n      // 获取本地数据\r\n      let tokenString = localStorage.getItem(\"__Tk\");\r\n\r\n      if (tokenString == undefined) {\r\n        this.$router.push({name:\"Login\"});\r\n      }\r\n      //开启加载提示\r\n      Toast.loading({\r\n          message: \"加载中...\",\r\n          forbidClick: true,\r\n          //延迟自动关闭加载提示，如果该值为0，则不会自动关闭\r\n          duration: 0\r\n      });\r\n\r\n      this.axios({\r\n        method:\"get\",\r\n        url:\"/findOrder\",\r\n        params:{\r\n          appkey:this.appkey,\r\n          tokenString,\r\n          status:this.active,\r\n        }\r\n      }).then(result =>{\r\n        Toast.clear();\r\n        Toast(result.data.msg);\r\n        if (result.data.code == 70000) {\r\n            //降序排序\r\n            result.data.result.sort((a, b) => {\r\n              return new Date(b.createdAt).getTime() - new Date(a.createdAt).getTime();\r\n            })\r\n            // 获取订单编号\r\n            let oids = [];\r\n            result.data.result.forEach(v => {\r\n              if (oids.indexOf(v.oid) == -1) {\r\n                oids.push(v.oid);\r\n              }\r\n            })\r\n            this.oids = oids;\r\n            // 获取订单数据\r\n            let orderData = [];\r\n            result.data.result.forEach(v => {\r\n              if (!orderData[v.oid]) {\r\n                orderData[v.oid] = {\r\n                  data:[v],\r\n                  status:v.status,\r\n                  createdAt:v.createdAt\r\n                }\r\n              }else{\r\n                orderData[v.oid].data.push(v);\r\n              }\r\n            })\r\n            this.all = orderData;\r\n\r\n            // 计算价格\r\n            for (let key in this.all) {\r\n              this.sumtotal(this.all[key].data);\r\n            }\r\n\r\n            if (this.active == 1) {\r\n              this.wait = Object.keys(this.all);\r\n            }\r\n            if (this.active == 2) {\r\n              this.confirm = Object.keys(this.all);\r\n            }\r\n        }\r\n      }).catch(err => {\r\n        Toast.clear();\r\n        \r\n      })\r\n    },\r\n\r\n    // 计算商品价格\r\n    sumtotal(obj){\r\n      let sum = 0;\r\n      let price = 0;\r\n\r\n      for (var i = 0; i < obj.length; i++) {\r\n        sum += obj[i].count;\r\n\r\n        price += obj[i].count * obj[i].price;\r\n      }\r\n\r\n      this.numprice.push(sum);\r\n      this.numprice.push(price);\r\n    },\r\n\r\n    // 改变标签\r\n    changeTibs(){\r\n      this.getOrderData();\r\n    },\r\n    // 确认收货\r\n    confirmOrder(v){\r\n      // 获取本地数据\r\n      let tokenString = localStorage.getItem(\"__Tk\");\r\n      //开启加载提示\r\n      Toast.loading({\r\n          message: \"加载中...\",\r\n          forbidClick: true,\r\n          //延迟自动关闭加载提示，如果该值为0，则不会自动关闭\r\n          duration: 0\r\n      });\r\n\r\n      this.axios({\r\n        method:\"POST\",\r\n        url:\"/receive\",\r\n        data:{\r\n          appkey:this.appkey,\r\n          tokenString,\r\n          oid:v\r\n        }\r\n      }).then(result =>{\r\n        Toast.clear();\r\n        if (result.data.code == 80000) {\r\n          Toast(result.data.msg);\r\n          this.getOrderData();\r\n        }\r\n      }).catch(err =>{\r\n        \r\n      })\r\n    },\r\n    // 删除数据\r\n    delData(v){\r\n      // 获取本地数据\r\n      let tokenString = localStorage.getItem(\"__Tk\");\r\n      //开启加载提示\r\n      Toast.loading({\r\n          message: \"加载中...\",\r\n          forbidClick: true,\r\n          //延迟自动关闭加载提示，如果该值为0，则不会自动关闭\r\n          duration: 0\r\n      });\r\n\r\n       this.axios({\r\n        method:\"POST\",\r\n        url:\"/removeOrder\",\r\n        data:{\r\n          appkey:this.appkey,\r\n          tokenString,\r\n          oid:v\r\n        }\r\n      }).then(result =>{\r\n        Toast.clear();\r\n        if (result.data.code == 90000) {\r\n          Toast(result.data.msg);\r\n          this.getOrderData();\r\n        }\r\n      }).catch(err =>{\r\n        \r\n      })\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n  .order{\r\n    width: 100%;\r\n    height: 667px;\r\n    background: #ddd;\r\n\r\n    .white{\r\n      width: 100%;\r\n      height: 50px;\r\n    }\r\n  }\r\n  .nav{\r\n    width: 100%;\r\n    position: fixed;\r\n    top:0px;\r\n  }\r\n  .orderNav{\r\n    width: 100%;\r\n    margin-bottom:50px; \r\n    .content{\r\n      margin-top: 10px;\r\n      background: #fff;\r\n      font-size: 14px;\r\n      border-radius: 15px;\r\n      padding:10px 0; \r\n      .left{\r\n        padding-left: 12px;\r\n      }\r\n      .right{\r\n        padding-right: 12px;\r\n      }\r\n    }\r\n  }\r\n  .bottom-button {\r\n      width: 160px;\r\n      height: 40px;\r\n  }\r\n</style>"],"sourceRoot":"src/views/mainViews"}]}