{"remainingRequest":"D:\\培训\\提交项目\\my-project\\node_modules\\babel-loader\\lib\\index.js!D:\\培训\\提交项目\\my-project\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\培训\\提交项目\\my-project\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\培训\\提交项目\\my-project\\src\\views\\myViews\\MyCollection.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\培训\\提交项目\\my-project\\src\\views\\myViews\\MyCollection.vue","mtime":1594429962940},{"path":"D:\\培训\\提交项目\\my-project\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\培训\\提交项目\\my-project\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\培训\\提交项目\\my-project\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\培训\\提交项目\\my-project\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJ2YW50L2VzL3RvYXN0L3N0eWxlIjsKaW1wb3J0IF9Ub2FzdCBmcm9tICJ2YW50L2VzL3RvYXN0IjsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdNeUFjY291bnQnLAogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7CiAgICAvLyDmn6Xor6LmlLbol4/llYblk4Hkv6Hmga8KICAgIHRoaXMuZ2V0aW5mbygpOwogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIC8vIOaUueWPmOaUtuiXj+eIseW/g+minOiJsgogICAgICBpc2xpa2U6IHRydWUsCiAgICAgIC8vIOaJgOacieaUtuiXj+WVhuWTgeaVsOaNrgogICAgICBhbGxpbmZvOiBbXQogICAgfTsKICB9LAogIG1ldGhvZHM6IHsKICAgIC8vIOi/lOWbnuS4iuS4gOWxggogICAgcHJldjogZnVuY3Rpb24gcHJldigpIHsKICAgICAgdGhpcy4kcm91dGVyLmdvKC0xKTsKICAgIH0sCiAgICAvLyDlm57liLDoj5zljZUKICAgIGdvTWVudTogZnVuY3Rpb24gZ29NZW51KCkgewogICAgICB0aGlzLiRyb3V0ZXIucHVzaCh7CiAgICAgICAgbmFtZTogIk1lbnUiCiAgICAgIH0pOwogICAgfSwKICAgIC8vIOafpeivouaJgOacieWVhuWTgeaUtuiXjwogICAgZ2V0aW5mbzogZnVuY3Rpb24gZ2V0aW5mbygpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIC8vIOiOt+WPluacrOWcsOaVsOaNrgogICAgICB2YXIgdG9rZW5TdHJpbmcgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgiX19UayIpOwoKICAgICAgaWYgKHRva2VuU3RyaW5nID09IHVuZGVmaW5lZCkgewogICAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHsKICAgICAgICAgIG5hbWU6ICJMb2dpbiIKICAgICAgICB9KTsKICAgICAgfSAvL+W8gOWQr+WKoOi9veaPkOekugoKCiAgICAgIF9Ub2FzdC5sb2FkaW5nKHsKICAgICAgICBtZXNzYWdlOiAi5Yqg6L295LitLi4uIiwKICAgICAgICBmb3JiaWRDbGljazogdHJ1ZSwKICAgICAgICAvL+W7tui/n+iHquWKqOWFs+mXreWKoOi9veaPkOekuu+8jOWmguaenOivpeWAvOS4ujDvvIzliJnkuI3kvJroh6rliqjlhbPpl60KICAgICAgICBkdXJhdGlvbjogMAogICAgICB9KTsKCiAgICAgIHRoaXMuYXhpb3MoewogICAgICAgIG1ldGhvZDogImdldCIsCiAgICAgICAgdXJsOiAiL2ZpbmRBbGxMaWtlIiwKICAgICAgICBwYXJhbXM6IHsKICAgICAgICAgIGFwcGtleTogdGhpcy5hcHBrZXksCiAgICAgICAgICB0b2tlblN0cmluZzogdG9rZW5TdHJpbmcKICAgICAgICB9CiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlc3VsdCkgewogICAgICAgIF9Ub2FzdC5jbGVhcigpOwoKICAgICAgICBpZiAocmVzdWx0LmRhdGEuY29kZSA9PSAyMDAwKSB7CiAgICAgICAgICBfdGhpcy5hbGxpbmZvID0gcmVzdWx0LmRhdGEucmVzdWx0OwogICAgICAgIH0KICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycikge30pOwogICAgfSwKICAgIC8vIOWPlua2iOaUtuiXjwogICAgbGlrZUFuZE5vdGxpa2U6IGZ1bmN0aW9uIGxpa2VBbmROb3RsaWtlKHBpZCkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIC8vIOiOt+WPluacrOWcsOaVsOaNrgogICAgICB2YXIgdG9rZW5TdHJpbmcgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgiX19UayIpOyAvL+W8gOWQr+WKoOi9veaPkOekugoKICAgICAgX1RvYXN0LmxvYWRpbmcoewogICAgICAgIG1lc3NhZ2U6ICLliqDovb3kuK0uLi4iLAogICAgICAgIGZvcmJpZENsaWNrOiB0cnVlLAogICAgICAgIC8v5bu26L+f6Ieq5Yqo5YWz6Zet5Yqg6L295o+Q56S677yM5aaC5p6c6K+l5YC85Li6MO+8jOWImeS4jeS8muiHquWKqOWFs+mXrQogICAgICAgIGR1cmF0aW9uOiAwCiAgICAgIH0pOyAvLyDlvIDlp4vor7fmsYLmlbDmja4KCgogICAgICB0aGlzLmF4aW9zKHsKICAgICAgICBtZXRob2Q6ICJQT1NUIiwKICAgICAgICB1cmw6ICIvbm90bGlrZSIsCiAgICAgICAgZGF0YTogewogICAgICAgICAgYXBwa2V5OiB0aGlzLmFwcGtleSwKICAgICAgICAgIHBpZDogcGlkLAogICAgICAgICAgdG9rZW5TdHJpbmc6IHRva2VuU3RyaW5nCiAgICAgICAgfQogICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXN1bHQpIHsKICAgICAgICBfVG9hc3QuY2xlYXIoKTsKCiAgICAgICAgaWYgKHJlc3VsdC5kYXRhLmNvZGUgPT0gODAwIHx8IHJlc3VsdC5kYXRhLmNvZGUgPT0gOTAwKSB7CiAgICAgICAgICBfVG9hc3QocmVzdWx0LmRhdGEubXNnKTsKCiAgICAgICAgICBfdGhpczIuZ2V0aW5mbygpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBfVG9hc3QoIuaCqOeahOeZu+W9leWPr+iDveWkseaViOS6hiIpOwoKICAgICAgICAgIF90aGlzMi4kcm91dGVyLnB1c2goewogICAgICAgICAgICBuYW1lOiAiTG9naW4iCiAgICAgICAgICB9KTsKICAgICAgICB9CiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnIpIHsKICAgICAgICBfVG9hc3QuY2xlYXIoKTsKICAgICAgfSk7CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["MyCollection.vue"],"names":[],"mappings":";;AAgCA,eAAA;AACA,EAAA,IAAA,EAAA,WADA;AAEA,EAAA,OAFA,qBAEA;AACA;AACA,SAAA,OAAA;AACA,GALA;AAMA,EAAA,IANA,kBAMA;AACA,WAAA;AACA;AACA,MAAA,MAAA,EAAA,IAFA;AAGA;AACA,MAAA,OAAA,EAAA;AAJA,KAAA;AAOA,GAdA;AAeA,EAAA,OAAA,EAAA;AACA;AACA,IAAA,IAFA,kBAEA;AACA,WAAA,OAAA,CAAA,EAAA,CAAA,CAAA,CAAA;AACA,KAJA;AAKA;AACA,IAAA,MANA,oBAMA;AACA,WAAA,OAAA,CAAA,IAAA,CAAA;AAAA,QAAA,IAAA,EAAA;AAAA,OAAA;AACA,KARA;AASA;AACA,IAAA,OAVA,qBAUA;AAAA;;AACA;AACA,UAAA,WAAA,GAAA,YAAA,CAAA,OAAA,CAAA,MAAA,CAAA;;AAEA,UAAA,WAAA,IAAA,SAAA,EAAA;AACA,aAAA,OAAA,CAAA,IAAA,CAAA;AAAA,UAAA,IAAA,EAAA;AAAA,SAAA;AACA,OANA,CAOA;;;AACA,aAAA,OAAA,CAAA;AACA,QAAA,OAAA,EAAA,QADA;AAEA,QAAA,WAAA,EAAA,IAFA;AAGA;AACA,QAAA,QAAA,EAAA;AAJA,OAAA;;AAOA,WAAA,KAAA,CAAA;AACA,QAAA,MAAA,EAAA,KADA;AAEA,QAAA,GAAA,EAAA,cAFA;AAGA,QAAA,MAAA,EAAA;AACA,UAAA,MAAA,EAAA,KAAA,MADA;AAEA,UAAA,WAAA,EAAA;AAFA;AAHA,OAAA,EAOA,IAPA,CAOA,UAAA,MAAA,EAAA;AACA,eAAA,KAAA;;AACA,YAAA,MAAA,CAAA,IAAA,CAAA,IAAA,IAAA,IAAA,EAAA;AACA,UAAA,KAAA,CAAA,OAAA,GAAA,MAAA,CAAA,IAAA,CAAA,MAAA;AACA;AAEA,OAbA,EAaA,KAbA,CAaA,UAAA,GAAA,EAAA,CAEA,CAfA;AAgBA,KAzCA;AA2CA;AACA,IAAA,cA5CA,0BA4CA,GA5CA,EA4CA;AAAA;;AACA;AACA,UAAA,WAAA,GAAA,YAAA,CAAA,OAAA,CAAA,MAAA,CAAA,CAFA,CAIA;;AACA,aAAA,OAAA,CAAA;AACA,QAAA,OAAA,EAAA,QADA;AAEA,QAAA,WAAA,EAAA,IAFA;AAGA;AACA,QAAA,QAAA,EAAA;AAJA,OAAA,EALA,CAYA;;;AACA,WAAA,KAAA,CAAA;AACA,QAAA,MAAA,EAAA,MADA;AAEA,QAAA,GAAA,EAAA,UAFA;AAGA,QAAA,IAAA,EAAA;AACA,UAAA,MAAA,EAAA,KAAA,MADA;AAEA,UAAA,GAAA,EAAA,GAFA;AAGA,UAAA,WAAA,EAAA;AAHA;AAHA,OAAA,EASA,IATA,CASA,UAAA,MAAA,EAAA;AACA,eAAA,KAAA;;AACA,YAAA,MAAA,CAAA,IAAA,CAAA,IAAA,IAAA,GAAA,IAAA,MAAA,CAAA,IAAA,CAAA,IAAA,IAAA,GAAA,EAAA;AACA,iBAAA,MAAA,CAAA,IAAA,CAAA,GAAA;;AACA,UAAA,MAAA,CAAA,OAAA;AACA,SAHA,MAGA;AACA,iBAAA,WAAA;;AACA,UAAA,MAAA,CAAA,OAAA,CAAA,IAAA,CAAA;AAAA,YAAA,IAAA,EAAA;AAAA,WAAA;AACA;AACA,OAlBA,EAkBA,KAlBA,CAkBA,UAAA,GAAA,EAAA;AACA,eAAA,KAAA;AAEA,OArBA;AAsBA;AA/EA;AAfA,CAAA","sourcesContent":["<template>\r\n  <div class=\"myAccount\">\r\n    <!-- 显示nav -->\r\n    <div>\r\n      <van-nav-bar title=\"我的收藏\" left-text=\"返回\" left-arrow @click-left=\"prev\" class=\"nav\"/>\r\n    </div>\r\n    <div class=\"white\"></div>\r\n    <!-- 没有东西的时候显示 -->\r\n    <div v-if=\"allinfo.length == 0\">\r\n      <van-empty description=\"购物车空空如也\">\r\n        <van-button color=\"#FE874E\" round class=\"bottom-button\" @click=\"goMenu\">去逛逛</van-button>\r\n      </van-empty>\r\n    </div>\r\n    <div class=\"content-wrop clearfix\">\r\n      <div class=\"fl content\" v-for=\"(item,index) in allinfo\">\r\n        <div class=\"img\">\r\n          <img :src=\"item.smallImg\" alt=\"\">\r\n        </div>\r\n        <div class=\"title\">\r\n          <span class=\"fl\">{{item.name}}</span>\r\n          <span class=\"fr\">\r\n        <van-icon name=\"like-o\" :color=\"islike ? '#f00' : '#000'\" @click=\"likeAndNotlike(item.pid)\"/>\r\n      </span>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { Toast } from 'vant';\r\n\r\nexport default {\r\n  name: 'MyAccount',\r\n  mounted(){\r\n    // 查询收藏商品信息\r\n    this.getinfo();\r\n  },\r\n  data(){\r\n    return{\r\n      // 改变收藏爱心颜色\r\n      islike:true,\r\n      // 所有收藏商品数据\r\n      allinfo:[],\r\n\r\n    }\r\n  },\r\n  methods:{\r\n    // 返回上一层\r\n    prev(){\r\n      this.$router.go(-1)\r\n    },\r\n    // 回到菜单\r\n    goMenu(){\r\n      this.$router.push({name:\"Menu\"});\r\n    },\r\n    // 查询所有商品收藏\r\n    getinfo(){\r\n      // 获取本地数据\r\n      let tokenString = localStorage.getItem(\"__Tk\");\r\n\r\n      if (tokenString == undefined) {\r\n        this.$router.push({name:\"Login\"});\r\n      }\r\n      //开启加载提示\r\n      Toast.loading({\r\n          message: \"加载中...\",\r\n          forbidClick: true,\r\n          //延迟自动关闭加载提示，如果该值为0，则不会自动关闭\r\n          duration: 0\r\n      });\r\n\r\n      this.axios({\r\n          method:\"get\",\r\n          url:\"/findAllLike\",\r\n          params:{\r\n            appkey:this.appkey,\r\n            tokenString,\r\n          }\r\n        }).then(result => {\r\n          Toast.clear();\r\n          if (result.data.code == 2000) {\r\n            this.allinfo = result.data.result;\r\n          }\r\n          \r\n        }).catch(err => {\r\n          \r\n        })\r\n    },\r\n\r\n    // 取消收藏\r\n    likeAndNotlike(pid){\r\n      // 获取本地数据\r\n      let tokenString = localStorage.getItem(\"__Tk\");\r\n\r\n      //开启加载提示\r\n      Toast.loading({\r\n          message: \"加载中...\",\r\n          forbidClick: true,\r\n          //延迟自动关闭加载提示，如果该值为0，则不会自动关闭\r\n          duration: 0\r\n      });\r\n\r\n      // 开始请求数据\r\n      this.axios({\r\n        method:\"POST\",\r\n        url:\"/notlike\",\r\n        data:{\r\n          appkey:this.appkey,\r\n          pid,\r\n          tokenString\r\n        }\r\n\r\n      }).then(result => {\r\n        Toast.clear();\r\n        if (result.data.code == 800 || result.data.code == 900) {\r\n          Toast(result.data.msg);\r\n          this.getinfo();\r\n        }else {\r\n          Toast(\"您的登录可能失效了\");\r\n          this.$router.push({name:\"Login\"});\r\n        }\r\n      }).catch(err => {\r\n        Toast.clear();\r\n        \r\n      })\r\n    },\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n  .nav{\r\n    width: 100%;\r\n    position: fixed;\r\n    top:0px;\r\n  }\r\n  .myAccount{\r\n    width:100%;\r\n    height: 667px;\r\n    background: #ddd;\r\n    .white{\r\n      width: 100%;\r\n      height: 46px;\r\n    }\r\n\r\n    .bottom-button {\r\n      width: 160px;\r\n      height: 40px;\r\n    }\r\n    // 提交按钮\r\n    .van-button{\r\n      background: #FE874D;\r\n    }\r\n    .content-wrop{\r\n      width: 100%;\r\n      .content{\r\n        width: 44%;\r\n        margin: 11px;\r\n        height: 180px;\r\n        background: #fff;\r\n        .img{\r\n          width: 100%;\r\n          height: 75%;\r\n          img{\r\n            width: 100%;\r\n            height: 100%;\r\n          }\r\n        }\r\n\r\n        .title{\r\n          width: 100%;\r\n          height: 20%;\r\n          margin-top:5px;\r\n          font-size: 20px;\r\n          line-height: 36px;\r\n          background: #fff;\r\n        }\r\n      }\r\n    }\r\n  }\r\n</style>"],"sourceRoot":"src/views/myViews"}]}