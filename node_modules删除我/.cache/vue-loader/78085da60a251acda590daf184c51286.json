{"remainingRequest":"D:\\培训\\2020-06-30笔记\\my-project\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\培训\\2020-06-30笔记\\my-project\\src\\views\\mainViews\\Menu.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\培训\\2020-06-30笔记\\my-project\\src\\views\\mainViews\\Menu.vue","mtime":1594380994556},{"path":"D:\\培训\\2020-06-30笔记\\my-project\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\培训\\2020-06-30笔记\\my-project\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\培训\\2020-06-30笔记\\my-project\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQovL+mFjee9ruWFqOWxgOeahHZ1ZXjlvJXlhaUNCmltcG9ydCB7Y3JlYXRlTmFtZXNwYWNlZEhlbHBlcnN9IGZyb20gJ3Z1ZXgnDQovL+W8leWFpeWFqOWxgOeahHN0YXRlDQpjb25zdCB7bWFwU3RhdGV9ID0gY3JlYXRlTmFtZXNwYWNlZEhlbHBlcnMoJ21lbnVNb2R1bGUnKQ0KDQppbXBvcnQgeyBUb2FzdCB9IGZyb20gJ3ZhbnQnOw0KDQpleHBvcnQgZGVmYXVsdCB7DQogIG5hbWU6ICdNZW51JywNCiAgZGF0YSgpew0KICAJcmV0dXJuew0KICAJCS8vIOaQnOe0og0KICAJCXZhbHVlOiIiLA0KICAJCS8vIOWIh+aNouiPnOWNlQ0KICAJCS8vIOaWsOWTgeeahOiPnOWNlQ0KICAJCXZhbHVlMTogMCwNCiAgCQkvLyDmjpLluo/nmoToj5zljZUNCgkgICAgdmFsdWUyOiAnYScsDQoJICAgIC8vIOaWsOWTgeiPnOWNlemAiemhuQ0KCSAgICBvcHRpb24xOiBbXSwNCgkgICAgLy8g5o6S5bqP6I+c5Y2V6YCJ6aG5DQoJICAgIG9wdGlvbjI6IFsNCgkgICAgICB7IHRleHQ6ICfpu5jorqTmjpLluo8nLCB2YWx1ZTogJ2EnIH0sDQoJICAgICAgeyB0ZXh0OiAn5Lu35qC85LuO6auY5Yiw5L2OJywgdmFsdWU6ICdiJyB9LA0KCSAgICAgIHsgdGV4dDogJ+S7t+agvOS7juS9juWIsOmrmCcsIHZhbHVlOiAnYycgfSwNCgkgICAgXSwNCgkgICAgLy8g5ZWG5ZOB5pWw5o2u5aSE55CGDQoJICAgIHByb2R1Y3REYXRhOltdLA0KCSAgICAvLyBiYW5uZXLlm74NCgkgICAgc3dpcGVzcmM6W10sDQogIAl9DQogIH0sDQogICBtb3VudGVkKCl7DQogICAgICAvLyDojrflj5ZiYW5uZXLlm74NCiAgIAkJdGhpcy5nZXRCbm5lcigpOw0KICAgICAgLy8g6I635Y+W57G75YirDQogIAkJdGhpcy5nZXRUeXBlKCk7DQogICAgICAvLyDlnKhsb2NhbFN0b3JhZ2XkuK3mlL5waWTkuLrllYblk4Hor6bmg4XpobXlgZrlh4blpIcNCiAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdwaWQnLEpTT04uc3RyaW5naWZ5KCIiKSk7DQogIH0sDQogIGNvbXB1dGVkOiB7DQogICAgLy8g5YWo5bGAc3RvcmXnmoTlpITnkIYNCiAgICAJLi4ubWFwU3RhdGUoWydiYW5uZXJEYXRhQ2FjaGUnLCdvcHRpb24xQ2FjaGUnXSkNCg0KICB9LA0KDQogIG1ldGhvZHM6ew0KICAJLy8g6I635Y+WYmFubmVy5pWw5o2uDQogIAlnZXRCbm5lcigpew0KDQogIAkJLy/ojrflj5Z2dWV455qEYmFubmVy57yT5a2Y5pWw5o2u77yM5aaC5p6c5a2Y5Zyo57yT5a2Y5pWw5o2u77yM5YiZ5LiN5Y+R6LW36K+35rGC77yM5ZCm5YiZ5Y+R6LW36K+35rGCDQoJICAgIGlmICh0aGlzLmJhbm5lckRhdGFDYWNoZS5sZW5ndGggPiAwKSB7DQoJICAgICAgICB0aGlzLnN3aXBlc3JjID0gdGhpcy5iYW5uZXJEYXRhQ2FjaGU7DQoJICAgICAgICByZXR1cm47DQoJICAgIH0NCg0KCSAgICAvL+W8gOWQr+WKoOi9veaPkOekug0KCSAgICBUb2FzdC5sb2FkaW5nKHsNCgkgICAgICAJbWVzc2FnZTogIuWKoOi9veS4rS4uLiIsDQoJICAgICAgCWZvcmJpZENsaWNrOiB0cnVlLA0KCSAgICAgIAkvL+W7tui/n+iHquWKqOWFs+mXreWKoOi9veaPkOekuu+8jOWmguaenOivpeWAvOS4ujDvvIzliJnkuI3kvJroh6rliqjlhbPpl60NCgkgICAgICAJZHVyYXRpb246IDANCgkgICAgfSk7DQoNCiAgICAgIC8vIOiOt+WPlmJhbm5lcuWbvueahOaVsOaNrg0KDQoJIAkgIHRoaXMuYXhpb3Moew0KCSAgCQkJdXJsOnRoaXMuYmFzZVVSTCArICIvd20vYmFubmVyL2Jhbm5lci5qc29uIiwNCgkgIAkJCW1ldGhvZDonZ2V0Jw0KCSAgCQl9KS50aGVuKHJlc3VsdCA9PiB7DQoJICAJCQlpZiAocmVzdWx0LmRhdGEuY29kZSA9PSAzMDAgKSB7DQoJICAJCQkJVG9hc3QuY2xlYXIoKTsNCgkgIAkJCQl0aGlzLnN3aXBlc3JjID0gcmVzdWx0LmRhdGEucmVzdWx0Ow0KCQkgICAgICAgICAgICAvL+e8k+WtmGJhbm5lcuaVsOaNruWcqHZ1ZXjkuK0NCgkJICAgICAgICAgICAgdGhpcy4kc3RvcmUuY29tbWl0KCdtZW51TW9kdWxlL2NoYW5nZURhdGEnLCB7DQoJCSAgICAgICAgICAgICAga2V5OiAnYmFubmVyRGF0YUNhY2hlJywNCgkJICAgICAgICAgICAgICB2YWx1ZTogcmVzdWx0LmRhdGEucmVzdWx0DQoJCSAgICAgICAgICAgIH0pDQoJICAJCQl9DQoJICAJCX0pLmNhdGNoKGVyciA9PiB7DQoJICAJCQlUb2FzdC5jbGVhcigpOw0KCSAgCQkJDQoJICAJfSkNCiAgCX0sDQoNCiAgICAvLyDojrflj5bnsbvliKvnmoTmlbDmja4NCiAgCWdldFR5cGUoKXsNCiAgCQkvL+iOt+WPlnZ1ZXjnmoTpgInmi6nmnaHku7bnvJPlrZjmlbDmja7vvIzlpoLmnpzlrZjlnKjnvJPlrZjmlbDmja7vvIzliJnkuI3lj5Hotbfor7fmsYLvvIzlkKbliJnlj5Hotbfor7fmsYINCgkgICAgaWYgKHRoaXMub3B0aW9uMUNhY2hlLmxlbmd0aCA+IDApIHsNCgkgICAgICAgIHRoaXMub3B0aW9uMSA9IHRoaXMub3B0aW9uMUNhY2hlOw0KCSAgICAgICAgdGhpcy5nZXRQcm9kdWN0QnlUeXBlKCdpc0hvdCcpOw0KCSAgICAgICAgcmV0dXJuOw0KCSAgICB9DQoNCgkgICAgLy/lvIDlkK/liqDovb3mj5DnpLoNCgkgICAgVG9hc3QubG9hZGluZyh7DQoJICAgICAgCW1lc3NhZ2U6ICLliqDovb3kuK0uLi4iLA0KCSAgICAgIAlmb3JiaWRDbGljazogdHJ1ZSwNCgkgICAgICAJLy/lu7bov5/oh6rliqjlhbPpl63liqDovb3mj5DnpLrvvIzlpoLmnpzor6XlgLzkuLow77yM5YiZ5LiN5Lya6Ieq5Yqo5YWz6ZetDQoJICAgICAgCWR1cmF0aW9uOiAwDQoJICAgIH0pOw0KDQogICAgICAvLyDlvIDlp4vojrflj5bnsbvliKsNCiAgCQl0aGlzLmF4aW9zKHsNCiAgCQkJbWV0aG9kOiJnZXQiLA0KICAJCQl1cmw6Imh0dHA6Ly93d3cua2FuZ2xpdXlvbmcuY29tOjEwMDAyL3R5cGUiLA0KICAJCQlwYXJhbXM6ew0KICAJCQkJYXBwa2V5OnRoaXMuYXBwa2V5DQogIAkJCX0NCiAgCQl9KS50aGVuKHJlc3VsdCA9PiB7DQogIAkJCVRvYXN0LmNsZWFyKCk7DQogICAgICAgIC8vIOi/m+ihjOexu+WIq+eahOaVsOaNruWkhOeQhg0KICAJCQlyZXN1bHQuZGF0YS5yZXN1bHQuZm9yRWFjaCh2ID0+IHsNCiAgICAgICAgICAgIHYudGV4dCA9ICIiOw0KICAgICAgICAgICAgdi52YWx1ZSA9IDA7DQogICAgICAgICAgfSkNCiAgICAgICAgLy8g6K6y6L+U5Zue55qE57G75Yir6LWL5YC857uZ5pWw57uEDQogIAkJCWZvciAodmFyIGkgPSAwOyBpIDwgcmVzdWx0LmRhdGEucmVzdWx0Lmxlbmd0aDsgaSsrKSB7DQogIAkJCQkNCiAgCQkJCXJlc3VsdC5kYXRhLnJlc3VsdFtpXS52YWx1ZSA9IGkrMTsNCiAgCQkJCXJlc3VsdC5kYXRhLnJlc3VsdFtpXS50ZXh0ID0gcmVzdWx0LmRhdGEucmVzdWx0W2ldLnR5cGVEZXNjOw0KICAJCQl9DQogICAgICAgIC8vIOaOqOS4gOS4quaVsOe7hOWcqOacgOWJjemdog0KICAJCQlyZXN1bHQuZGF0YS5yZXN1bHQudW5zaGlmdCh7dHlwZTogJ2lzSG90JywgdHlwZURlc2M6ICfmnIDmlrDmjqjojZAnLCBpc0FjdGl2ZTogdHJ1ZSx0ZXh0OiLmnIDmlrDmjqjojZAiLHZhbHVlOjB9KTsNCiAgCQkJdGhpcy5vcHRpb24xID0gcmVzdWx0LmRhdGEucmVzdWx0Ow0KDQoNCiAgCQkJLy/nvJPlrZjpgInmi6nmlbDmja7lnKh2dWV45LitDQoJCSAgICB0aGlzLiRzdG9yZS5jb21taXQoJ21lbnVNb2R1bGUvY2hhbmdlRGF0YScsIHsNCgkJICAgICAga2V5OiAnb3B0aW9uMUNhY2hlJywNCgkJICAgICAgdmFsdWU6IHJlc3VsdC5kYXRhLnJlc3VsdA0KCQkgICAgfSkNCiAgICAgICAgLy8g6LCD55So5aSE55CG6I+c5Y2V5Ye95pWwDQogIAkJCXRoaXMuZ2V0UHJvZHVjdEJ5VHlwZSgnaXNIb3QnKTsNCiAgCQl9KS5jYXRjaChlcnIgPT4gew0KICAJCQlUb2FzdC5jbGVhcigpOw0KICAJCQkNCiAgCQl9KQ0KICAJfSwNCiAgCS8vIOaUueWPmOmAieaLqeeahOWAvO+8jOiAgeiOt+WPluWVhuWTgeeahOaVsOaNrg0KICAJY2hhbmdlVmx1ZSgpewkJDQogIAkJdGhpcy5nZXRQcm9kdWN0QnlUeXBlKHRoaXMub3B0aW9uMVt0aGlzLnZhbHVlMV0udHlwZSk7DQogIAl9LA0KDQogIAkvL+agueaNruexu+Wei+iOt+WPluWVhuWTgeaVsOaNrg0KICAgIGdldFByb2R1Y3RCeVR5cGUoaXRlbSkgew0KICAgICAgdGhpcy5wcm9kdWN0RGF0YSA9IFtdOw0KDQogICAgICBsZXQgcGFyYW1zID0gew0KICAgICAgICBhcHBrZXk6IHRoaXMuYXBwa2V5LA0KICAgICAgICBrZXk6ICd0eXBlJywNCiAgICAgICAgdmFsdWU6IGl0ZW0NCiAgICAgIH07DQoNCiAgICAgIC8v5pyA6L+R5o6o6I2QDQogICAgICBpZiAoaXRlbSA9PSAnaXNIb3QnKSB7DQogICAgICAgIHBhcmFtcy5rZXkgPSAnaXNIb3QnOw0KICAgICAgICBwYXJhbXMudmFsdWUgPSAxDQogICAgICB9DQoNCiAgICAgIC8v5byA5ZCv5Yqg6L295o+Q56S6DQoJICAgIFRvYXN0LmxvYWRpbmcoew0KCSAgICAgIG1lc3NhZ2U6ICLliqDovb3kuK0uLi4iLA0KCSAgICAgIGZvcmJpZENsaWNrOiB0cnVlLA0KCSAgICAgIC8v5bu26L+f6Ieq5Yqo5YWz6Zet5Yqg6L295o+Q56S677yM5aaC5p6c6K+l5YC85Li6MO+8jOWImeS4jeS8muiHquWKqOWFs+mXrQ0KCSAgICAgIGR1cmF0aW9uOiAwDQoJICAgIH0pOw0KDQogICAgICAvLyDlvIDlp4vlpITnkIboj5zljZUNCiAgICAgIHRoaXMuYXhpb3Moew0KICAgICAgICBtZXRob2Q6ICdHRVQnLA0KICAgICAgICB1cmw6ICdodHRwOi8vd3d3LmthbmdsaXV5b25nLmNvbToxMDAwMi90eXBlUHJvZHVjdHMnLA0KICAgICAgICBwYXJhbXMNCiAgICAgIH0pLnRoZW4ocmVzdWx0ID0+IHsNCiAgICAgICAgaWYgKHJlc3VsdC5kYXRhLmNvZGUgPT0gNTAwKSB7DQogICAgICAgIAlUb2FzdC5jbGVhcigpOw0KICAgICAgICAJVG9hc3QuY2xlYXIoKTsNCiAgICAgICAgICAgIHRoaXMucHJvZHVjdERhdGEgPSByZXN1bHQuZGF0YS5yZXN1bHQ7DQogICAgICAgIH0NCiAgICAgIH0pLmNhdGNoKGVyciA9PiB7DQogICAgICAgIA0KICAgICAgfSkNCiAgICAgIA0KICAgIH0sDQogICAgLy8g5Y+R6YCBcGlk57uZ6K+m5oOF6aG1DQogICAgY29tbWl0aWQoaXRlbSl7DQogICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgncGlkJyxKU09OLnN0cmluZ2lmeShpdGVtLnBpZCkpOw0KICAgICAgdGhpcy4kcm91dGVyLnB1c2goe25hbWU6IkRldGFpbCJ9KTsNCiAgICB9LA0KICAgIC8vIOaQnOe0ouWkhOeQhg0KICAgIG9uU2VhcmNoKHZhbCkgew0KICAgICAgaWYgKHRoaXMudmFsdWUgPT0gIiIpIHsNCiAgICAgICAgVG9hc3QoIuivt+i+k+WFpeaQnOe0ouWGheWuuSIpOw0KICAgICAgICByZXR1cm47DQogICAgICB9DQogICAgICB0aGlzLiRyb3V0ZXIucHVzaCh7bmFtZToiU2VhcmNoIixxdWVyeTp7dzp2YWx9fSk7DQogICAgfSwNCiAgfQ0KICANCg0KfQ0K"},{"version":3,"sources":["Menu.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAsCA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA","file":"Menu.vue","sourceRoot":"src/views/mainViews","sourcesContent":["<template>\r\n  \t<div class=\"menu\">\r\n      <!-- 搜索栏 -->\r\n  \t\t<div class=\"search\">\r\n  \t\t\t<form action=\"/\">\r\n\t\t\t  \t<van-search\r\n\t\t\t  \t  v-model=\"value\"\r\n\t\t\t  \t  show-action\r\n\t\t\t  \t  placeholder=\"请输入种类进行搜索\"\r\n            @search=\"onSearch\" \r\n\t\t\t  \t/>\r\n\t\t\t  </form>\r\n  \t\t</div>\r\n  \t\t<!-- banner图 -->\r\n  \t\t<van-swipe class=\"my-swipe\" :autoplay=\"3000\" indicator-color=\"skyblue\">\r\n\t\t\t  <van-swipe-item v-for=\"(item,index) in swipesrc\"><img :src=\"item.bannerImg\" alt=\"\"></van-swipe-item>\r\n\t\t  </van-swipe>\r\n      <!-- 选择列表 -->\r\n  \t\t<van-dropdown-menu>\r\n  \t\t\t  <van-dropdown-item v-model=\"value1\" :options=\"option1\" @change=\"changeVlue\"/>\r\n  \t\t\t  <van-dropdown-item v-model=\"value2\" :options=\"option2\" />\r\n  \t\t</van-dropdown-menu>\r\n      <!-- 显示菜单 -->\r\n  \t\t<div class=\"content-menu\">\r\n  \t\t\t<van-card\r\n  \t\t\t\t  v-for=\"(item,index) in productData\"\r\n  \t\t\t\t  :key=\"index\"\r\n  \t\t\t  \t:price=\"item.price\"\r\n  \t\t\t  \t:desc=\"item.desc\"\r\n  \t\t\t  \t:title=\"item.name\"\r\n  \t\t\t  \t:thumb=\"item.smallImg\"\r\n            @click=\"commitid(item)\"\r\n  \t\t\t/>\r\n  \t\t</div>\r\n  \t</div>\r\n</template>\r\n\r\n<script>\r\n//配置全局的vuex引入\r\nimport {createNamespacedHelpers} from 'vuex'\r\n//引入全局的state\r\nconst {mapState} = createNamespacedHelpers('menuModule')\r\n\r\nimport { Toast } from 'vant';\r\n\r\nexport default {\r\n  name: 'Menu',\r\n  data(){\r\n  \treturn{\r\n  \t\t// 搜索\r\n  \t\tvalue:\"\",\r\n  \t\t// 切换菜单\r\n  \t\t// 新品的菜单\r\n  \t\tvalue1: 0,\r\n  \t\t// 排序的菜单\r\n\t    value2: 'a',\r\n\t    // 新品菜单选项\r\n\t    option1: [],\r\n\t    // 排序菜单选项\r\n\t    option2: [\r\n\t      { text: '默认排序', value: 'a' },\r\n\t      { text: '价格从高到低', value: 'b' },\r\n\t      { text: '价格从低到高', value: 'c' },\r\n\t    ],\r\n\t    // 商品数据处理\r\n\t    productData:[],\r\n\t    // banner图\r\n\t    swipesrc:[],\r\n  \t}\r\n  },\r\n   mounted(){\r\n      // 获取banner图\r\n   \t\tthis.getBnner();\r\n      // 获取类别\r\n  \t\tthis.getType();\r\n      // 在localStorage中放pid为商品详情页做准备\r\n      localStorage.setItem('pid',JSON.stringify(\"\"));\r\n  },\r\n  computed: {\r\n    // 全局store的处理\r\n    \t...mapState(['bannerDataCache','option1Cache'])\r\n\r\n  },\r\n\r\n  methods:{\r\n  \t// 获取banner数据\r\n  \tgetBnner(){\r\n\r\n  \t\t//获取vuex的banner缓存数据，如果存在缓存数据，则不发起请求，否则发起请求\r\n\t    if (this.bannerDataCache.length > 0) {\r\n\t        this.swipesrc = this.bannerDataCache;\r\n\t        return;\r\n\t    }\r\n\r\n\t    //开启加载提示\r\n\t    Toast.loading({\r\n\t      \tmessage: \"加载中...\",\r\n\t      \tforbidClick: true,\r\n\t      \t//延迟自动关闭加载提示，如果该值为0，则不会自动关闭\r\n\t      \tduration: 0\r\n\t    });\r\n\r\n      // 获取banner图的数据\r\n\r\n\t \t  this.axios({\r\n\t  \t\t\turl:this.baseURL + \"/wm/banner/banner.json\",\r\n\t  \t\t\tmethod:'get'\r\n\t  \t\t}).then(result => {\r\n\t  \t\t\tif (result.data.code == 300 ) {\r\n\t  \t\t\t\tToast.clear();\r\n\t  \t\t\t\tthis.swipesrc = result.data.result;\r\n\t\t            //缓存banner数据在vuex中\r\n\t\t            this.$store.commit('menuModule/changeData', {\r\n\t\t              key: 'bannerDataCache',\r\n\t\t              value: result.data.result\r\n\t\t            })\r\n\t  \t\t\t}\r\n\t  \t\t}).catch(err => {\r\n\t  \t\t\tToast.clear();\r\n\t  \t\t\t\r\n\t  \t})\r\n  \t},\r\n\r\n    // 获取类别的数据\r\n  \tgetType(){\r\n  \t\t//获取vuex的选择条件缓存数据，如果存在缓存数据，则不发起请求，否则发起请求\r\n\t    if (this.option1Cache.length > 0) {\r\n\t        this.option1 = this.option1Cache;\r\n\t        this.getProductByType('isHot');\r\n\t        return;\r\n\t    }\r\n\r\n\t    //开启加载提示\r\n\t    Toast.loading({\r\n\t      \tmessage: \"加载中...\",\r\n\t      \tforbidClick: true,\r\n\t      \t//延迟自动关闭加载提示，如果该值为0，则不会自动关闭\r\n\t      \tduration: 0\r\n\t    });\r\n\r\n      // 开始获取类别\r\n  \t\tthis.axios({\r\n  \t\t\tmethod:\"get\",\r\n  \t\t\turl:\"http://www.kangliuyong.com:10002/type\",\r\n  \t\t\tparams:{\r\n  \t\t\t\tappkey:this.appkey\r\n  \t\t\t}\r\n  \t\t}).then(result => {\r\n  \t\t\tToast.clear();\r\n        // 进行类别的数据处理\r\n  \t\t\tresult.data.result.forEach(v => {\r\n            v.text = \"\";\r\n            v.value = 0;\r\n          })\r\n        // 讲返回的类别赋值给数组\r\n  \t\t\tfor (var i = 0; i < result.data.result.length; i++) {\r\n  \t\t\t\t\r\n  \t\t\t\tresult.data.result[i].value = i+1;\r\n  \t\t\t\tresult.data.result[i].text = result.data.result[i].typeDesc;\r\n  \t\t\t}\r\n        // 推一个数组在最前面\r\n  \t\t\tresult.data.result.unshift({type: 'isHot', typeDesc: '最新推荐', isActive: true,text:\"最新推荐\",value:0});\r\n  \t\t\tthis.option1 = result.data.result;\r\n\r\n\r\n  \t\t\t//缓存选择数据在vuex中\r\n\t\t    this.$store.commit('menuModule/changeData', {\r\n\t\t      key: 'option1Cache',\r\n\t\t      value: result.data.result\r\n\t\t    })\r\n        // 调用处理菜单函数\r\n  \t\t\tthis.getProductByType('isHot');\r\n  \t\t}).catch(err => {\r\n  \t\t\tToast.clear();\r\n  \t\t\t\r\n  \t\t})\r\n  \t},\r\n  \t// 改变选择的值，老获取商品的数据\r\n  \tchangeVlue(){\t\t\r\n  \t\tthis.getProductByType(this.option1[this.value1].type);\r\n  \t},\r\n\r\n  \t//根据类型获取商品数据\r\n    getProductByType(item) {\r\n      this.productData = [];\r\n\r\n      let params = {\r\n        appkey: this.appkey,\r\n        key: 'type',\r\n        value: item\r\n      };\r\n\r\n      //最近推荐\r\n      if (item == 'isHot') {\r\n        params.key = 'isHot';\r\n        params.value = 1\r\n      }\r\n\r\n      //开启加载提示\r\n\t    Toast.loading({\r\n\t      message: \"加载中...\",\r\n\t      forbidClick: true,\r\n\t      //延迟自动关闭加载提示，如果该值为0，则不会自动关闭\r\n\t      duration: 0\r\n\t    });\r\n\r\n      // 开始处理菜单\r\n      this.axios({\r\n        method: 'GET',\r\n        url: 'http://www.kangliuyong.com:10002/typeProducts',\r\n        params\r\n      }).then(result => {\r\n        if (result.data.code == 500) {\r\n        \tToast.clear();\r\n        \tToast.clear();\r\n            this.productData = result.data.result;\r\n        }\r\n      }).catch(err => {\r\n        \r\n      })\r\n      \r\n    },\r\n    // 发送pid给详情页\r\n    commitid(item){\r\n      localStorage.setItem('pid',JSON.stringify(item.pid));\r\n      this.$router.push({name:\"Detail\"});\r\n    },\r\n    // 搜索处理\r\n    onSearch(val) {\r\n      if (this.value == \"\") {\r\n        Toast(\"请输入搜索内容\");\r\n        return;\r\n      }\r\n      this.$router.push({name:\"Search\",query:{w:val}});\r\n    },\r\n  }\r\n  \r\n\r\n}\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n  .my-swipe .van-swipe-item {\r\n    color: #fff;\r\n    font-size: 20px;\r\n    line-height: 150px;\r\n    text-align: center;\r\n    height: 200px;\r\n    margin-top: 54px;\r\n    img{\r\n    \twidth: 100%;\r\n    \theight: 100%;\r\n    }\r\n  }\r\n  .menu{\r\n  \tbackground: #ddd;\r\n   \tpadding-bottom: 50px;\r\n    .search{\r\n      position: fixed;\r\n      width: 100%;\r\n      z-index: 2;\r\n      top:0;\r\n    }\r\n  }\r\n  // 设置菜单可以滑动\r\n  .content-menu{\r\n  \toverflow-y: auto;\r\n  }\r\n  // 改变价格颜色\r\n  .van-card__price{\r\n  \tcolor: red;\r\n  }\r\n\r\n</style>"]}]}