{"remainingRequest":"D:\\培训\\提交项目\\my-project\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\培训\\提交项目\\my-project\\src\\views\\mainViews\\Menu.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\培训\\提交项目\\my-project\\src\\views\\mainViews\\Menu.vue","mtime":1594429593715},{"path":"D:\\培训\\提交项目\\my-project\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\培训\\提交项目\\my-project\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\培训\\提交项目\\my-project\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\培训\\提交项目\\my-project\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQovL+mFjee9ruWFqOWxgOeahHZ1ZXjlvJXlhaUNCmltcG9ydCB7Y3JlYXRlTmFtZXNwYWNlZEhlbHBlcnN9IGZyb20gJ3Z1ZXgnDQovL+W8leWFpeWFqOWxgOeahHN0YXRlDQpjb25zdCB7bWFwU3RhdGV9ID0gY3JlYXRlTmFtZXNwYWNlZEhlbHBlcnMoJ21lbnVNb2R1bGUnKQ0KDQppbXBvcnQgeyBUb2FzdCB9IGZyb20gJ3ZhbnQnOw0KDQpleHBvcnQgZGVmYXVsdCB7DQogIG5hbWU6ICdNZW51JywNCiAgZGF0YSgpew0KICAJcmV0dXJuew0KICAJCS8vIOaQnOe0og0KICAJCXZhbHVlOiIiLA0KICAJCS8vIOWIh+aNouiPnOWNlQ0KICAJCS8vIOaWsOWTgeeahOiPnOWNlQ0KICAJCXZhbHVlMTogMCwNCiAgCQkvLyDmjpLluo/nmoToj5zljZUNCgkgICAgdmFsdWUyOiAnYScsDQoJICAgIC8vIOaWsOWTgeiPnOWNlemAiemhuQ0KCSAgICBvcHRpb24xOiBbXSwNCgkgICAgLy8g5o6S5bqP6I+c5Y2V6YCJ6aG5DQoJICAgIG9wdGlvbjI6IFsNCgkgICAgICB7IHRleHQ6ICfpu5jorqTmjpLluo8nLCB2YWx1ZTogJ2EnIH0sDQoJICAgICAgeyB0ZXh0OiAn5Lu35qC85LuO6auY5Yiw5L2OJywgdmFsdWU6ICdiJyB9LA0KCSAgICAgIHsgdGV4dDogJ+S7t+agvOS7juS9juWIsOmrmCcsIHZhbHVlOiAnYycgfSwNCgkgICAgXSwNCgkgICAgLy8g5ZWG5ZOB5pWw5o2u5aSE55CGDQoJICAgIHByb2R1Y3REYXRhOltdLA0KCSAgICAvLyBiYW5uZXLlm74NCgkgICAgc3dpcGVzcmM6W10sDQogIAl9DQogIH0sDQogICBtb3VudGVkKCl7DQogICAgICAvLyDojrflj5ZiYW5uZXLlm74NCiAgIAkJdGhpcy5nZXRCbm5lcigpOw0KICAgICAgLy8g6I635Y+W57G75YirDQogIAkJdGhpcy5nZXRUeXBlKCk7DQogICAgICAvLyDlnKhsb2NhbFN0b3JhZ2XkuK3mlL5waWTkuLrllYblk4Hor6bmg4XpobXlgZrlh4blpIcNCiAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdwaWQnLEpTT04uc3RyaW5naWZ5KCIiKSk7DQogIH0sDQogIGNvbXB1dGVkOiB7DQogICAgLy8g5YWo5bGAc3RvcmXnmoTlpITnkIYNCiAgICAJLi4ubWFwU3RhdGUoWydiYW5uZXJEYXRhQ2FjaGUnLCdvcHRpb24xQ2FjaGUnXSkNCg0KICB9LA0KDQogIG1ldGhvZHM6ew0KICAJLy8g6I635Y+WYmFubmVy5pWw5o2uDQogIAlnZXRCbm5lcigpew0KDQogIAkJLy/ojrflj5Z2dWV455qEYmFubmVy57yT5a2Y5pWw5o2u77yM5aaC5p6c5a2Y5Zyo57yT5a2Y5pWw5o2u77yM5YiZ5LiN5Y+R6LW36K+35rGC77yM5ZCm5YiZ5Y+R6LW36K+35rGCDQoJICAgIGlmICh0aGlzLmJhbm5lckRhdGFDYWNoZS5sZW5ndGggPiAwKSB7DQoJICAgICAgICB0aGlzLnN3aXBlc3JjID0gdGhpcy5iYW5uZXJEYXRhQ2FjaGU7DQoJICAgICAgICByZXR1cm47DQoJICAgIH0NCg0KCSAgICAvL+W8gOWQr+WKoOi9veaPkOekug0KCSAgICBUb2FzdC5sb2FkaW5nKHsNCgkgICAgICAJbWVzc2FnZTogIuWKoOi9veS4rS4uLiIsDQoJICAgICAgCWZvcmJpZENsaWNrOiB0cnVlLA0KCSAgICAgIAkvL+W7tui/n+iHquWKqOWFs+mXreWKoOi9veaPkOekuu+8jOWmguaenOivpeWAvOS4ujDvvIzliJnkuI3kvJroh6rliqjlhbPpl60NCgkgICAgICAJZHVyYXRpb246IDANCgkgICAgfSk7DQoNCiAgICAgIC8vIOiOt+WPlmJhbm5lcuWbvueahOaVsOaNrg0KDQoJIAkgIHRoaXMuYXhpb3Moew0KCSAgCQkJdXJsOiJodHRwOi8vMS56c2R1YW4uYXBwbGluemkuY29tL3dtL2Jhbm5lci9iYW5uZXIucGhwIiwNCgkgIAkJCW1ldGhvZDonZ2V0Jw0KCSAgCQl9KS50aGVuKHJlc3VsdCA9PiB7DQoJICAJCQlpZiAocmVzdWx0LmRhdGEuY29kZSA9PSAzMDAgKSB7DQoJICAJCQkJVG9hc3QuY2xlYXIoKTsNCgkgIAkJCQl0aGlzLnN3aXBlc3JjID0gcmVzdWx0LmRhdGEucmVzdWx0Ow0KCQkgICAgICAgICAgICAvL+e8k+WtmGJhbm5lcuaVsOaNruWcqHZ1ZXjkuK0NCgkJICAgICAgICAgICAgdGhpcy4kc3RvcmUuY29tbWl0KCdtZW51TW9kdWxlL2NoYW5nZURhdGEnLCB7DQoJCSAgICAgICAgICAgICAga2V5OiAnYmFubmVyRGF0YUNhY2hlJywNCgkJICAgICAgICAgICAgICB2YWx1ZTogcmVzdWx0LmRhdGEucmVzdWx0DQoJCSAgICAgICAgICAgIH0pDQoJICAJCQl9DQoJICAJCX0pLmNhdGNoKGVyciA9PiB7DQoJICAJCQlUb2FzdC5jbGVhcigpOw0KCSAgCQkJDQoJICAJfSkNCiAgCX0sDQoNCiAgICAvLyDojrflj5bnsbvliKvnmoTmlbDmja4NCiAgCWdldFR5cGUoKXsNCiAgCQkvL+iOt+WPlnZ1ZXjnmoTpgInmi6nmnaHku7bnvJPlrZjmlbDmja7vvIzlpoLmnpzlrZjlnKjnvJPlrZjmlbDmja7vvIzliJnkuI3lj5Hotbfor7fmsYLvvIzlkKbliJnlj5Hotbfor7fmsYINCgkgICAgaWYgKHRoaXMub3B0aW9uMUNhY2hlLmxlbmd0aCA+IDApIHsNCgkgICAgICAgIHRoaXMub3B0aW9uMSA9IHRoaXMub3B0aW9uMUNhY2hlOw0KCSAgICAgICAgdGhpcy5nZXRQcm9kdWN0QnlUeXBlKCdpc0hvdCcpOw0KCSAgICAgICAgcmV0dXJuOw0KCSAgICB9DQoNCgkgICAgLy/lvIDlkK/liqDovb3mj5DnpLoNCgkgICAgVG9hc3QubG9hZGluZyh7DQoJICAgICAgCW1lc3NhZ2U6ICLliqDovb3kuK0uLi4iLA0KCSAgICAgIAlmb3JiaWRDbGljazogdHJ1ZSwNCgkgICAgICAJLy/lu7bov5/oh6rliqjlhbPpl63liqDovb3mj5DnpLrvvIzlpoLmnpzor6XlgLzkuLow77yM5YiZ5LiN5Lya6Ieq5Yqo5YWz6ZetDQoJICAgICAgCWR1cmF0aW9uOiAwDQoJICAgIH0pOw0KDQogICAgICAvLyDlvIDlp4vojrflj5bnsbvliKsNCiAgCQl0aGlzLmF4aW9zKHsNCiAgCQkJbWV0aG9kOiJnZXQiLA0KICAJCQl1cmw6Ii90eXBlIiwNCiAgCQkJcGFyYW1zOnsNCiAgCQkJCWFwcGtleTp0aGlzLmFwcGtleQ0KICAJCQl9DQogIAkJfSkudGhlbihyZXN1bHQgPT4gew0KICAJCQlUb2FzdC5jbGVhcigpOw0KICAgICAgICAvLyDov5vooYznsbvliKvnmoTmlbDmja7lpITnkIYNCiAgCQkJcmVzdWx0LmRhdGEucmVzdWx0LmZvckVhY2godiA9PiB7DQogICAgICAgICAgICB2LnRleHQgPSAiIjsNCiAgICAgICAgICAgIHYudmFsdWUgPSAwOw0KICAgICAgICAgIH0pDQogICAgICAgIC8vIOiusui/lOWbnueahOexu+WIq+i1i+WAvOe7meaVsOe7hA0KICAJCQlmb3IgKHZhciBpID0gMDsgaSA8IHJlc3VsdC5kYXRhLnJlc3VsdC5sZW5ndGg7IGkrKykgew0KICAJCQkJDQogIAkJCQlyZXN1bHQuZGF0YS5yZXN1bHRbaV0udmFsdWUgPSBpKzE7DQogIAkJCQlyZXN1bHQuZGF0YS5yZXN1bHRbaV0udGV4dCA9IHJlc3VsdC5kYXRhLnJlc3VsdFtpXS50eXBlRGVzYzsNCiAgCQkJfQ0KICAgICAgICAvLyDmjqjkuIDkuKrmlbDnu4TlnKjmnIDliY3pnaINCiAgCQkJcmVzdWx0LmRhdGEucmVzdWx0LnVuc2hpZnQoe3R5cGU6ICdpc0hvdCcsIHR5cGVEZXNjOiAn5pyA5paw5o6o6I2QJywgaXNBY3RpdmU6IHRydWUsdGV4dDoi5pyA5paw5o6o6I2QIix2YWx1ZTowfSk7DQogIAkJCXRoaXMub3B0aW9uMSA9IHJlc3VsdC5kYXRhLnJlc3VsdDsNCg0KDQogIAkJCS8v57yT5a2Y6YCJ5oup5pWw5o2u5ZyodnVleOS4rQ0KCQkgICAgdGhpcy4kc3RvcmUuY29tbWl0KCdtZW51TW9kdWxlL2NoYW5nZURhdGEnLCB7DQoJCSAgICAgIGtleTogJ29wdGlvbjFDYWNoZScsDQoJCSAgICAgIHZhbHVlOiByZXN1bHQuZGF0YS5yZXN1bHQNCgkJICAgIH0pDQogICAgICAgIC8vIOiwg+eUqOWkhOeQhuiPnOWNleWHveaVsA0KICAJCQl0aGlzLmdldFByb2R1Y3RCeVR5cGUoJ2lzSG90Jyk7DQogIAkJfSkuY2F0Y2goZXJyID0+IHsNCiAgCQkJVG9hc3QuY2xlYXIoKTsNCiAgCQkJDQogIAkJfSkNCiAgCX0sDQogIAkvLyDmlLnlj5jpgInmi6nnmoTlgLzvvIzogIHojrflj5bllYblk4HnmoTmlbDmja4NCiAgCWNoYW5nZVZsdWUoKXsJCQ0KICAJCXRoaXMuZ2V0UHJvZHVjdEJ5VHlwZSh0aGlzLm9wdGlvbjFbdGhpcy52YWx1ZTFdLnR5cGUpOw0KICAJfSwNCg0KICAJLy/moLnmja7nsbvlnovojrflj5bllYblk4HmlbDmja4NCiAgICBnZXRQcm9kdWN0QnlUeXBlKGl0ZW0pIHsNCiAgICAgIHRoaXMucHJvZHVjdERhdGEgPSBbXTsNCg0KICAgICAgbGV0IHBhcmFtcyA9IHsNCiAgICAgICAgYXBwa2V5OiB0aGlzLmFwcGtleSwNCiAgICAgICAga2V5OiAndHlwZScsDQogICAgICAgIHZhbHVlOiBpdGVtDQogICAgICB9Ow0KDQogICAgICAvL+acgOi/keaOqOiNkA0KICAgICAgaWYgKGl0ZW0gPT0gJ2lzSG90Jykgew0KICAgICAgICBwYXJhbXMua2V5ID0gJ2lzSG90JzsNCiAgICAgICAgcGFyYW1zLnZhbHVlID0gMQ0KICAgICAgfQ0KDQogICAgICAvL+W8gOWQr+WKoOi9veaPkOekug0KCSAgICBUb2FzdC5sb2FkaW5nKHsNCgkgICAgICBtZXNzYWdlOiAi5Yqg6L295LitLi4uIiwNCgkgICAgICBmb3JiaWRDbGljazogdHJ1ZSwNCgkgICAgICAvL+W7tui/n+iHquWKqOWFs+mXreWKoOi9veaPkOekuu+8jOWmguaenOivpeWAvOS4ujDvvIzliJnkuI3kvJroh6rliqjlhbPpl60NCgkgICAgICBkdXJhdGlvbjogMA0KCSAgICB9KTsNCg0KICAgICAgLy8g5byA5aeL5aSE55CG6I+c5Y2VDQogICAgICB0aGlzLmF4aW9zKHsNCiAgICAgICAgbWV0aG9kOiAnR0VUJywNCiAgICAgICAgdXJsOiAnL3R5cGVQcm9kdWN0cycsDQogICAgICAgIHBhcmFtcw0KICAgICAgfSkudGhlbihyZXN1bHQgPT4gew0KICAgICAgICBpZiAocmVzdWx0LmRhdGEuY29kZSA9PSA1MDApIHsNCiAgICAgICAgCVRvYXN0LmNsZWFyKCk7DQogICAgICAgIAlUb2FzdC5jbGVhcigpOw0KICAgICAgICAgICAgdGhpcy5wcm9kdWN0RGF0YSA9IHJlc3VsdC5kYXRhLnJlc3VsdDsNCiAgICAgICAgfQ0KICAgICAgfSkuY2F0Y2goZXJyID0+IHsNCiAgICAgICAgDQogICAgICB9KQ0KICAgICAgDQogICAgfSwNCiAgICAvLyDlj5HpgIFwaWTnu5nor6bmg4XpobUNCiAgICBjb21taXRpZChpdGVtKXsNCiAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdwaWQnLEpTT04uc3RyaW5naWZ5KGl0ZW0ucGlkKSk7DQogICAgICB0aGlzLiRyb3V0ZXIucHVzaCh7bmFtZToiRGV0YWlsIn0pOw0KICAgIH0sDQogICAgLy8g5pCc57Si5aSE55CGDQogICAgb25TZWFyY2godmFsKSB7DQogICAgICBpZiAodGhpcy52YWx1ZSA9PSAiIikgew0KICAgICAgICBUb2FzdCgi6K+36L6T5YWl5pCc57Si5YaF5a65Iik7DQogICAgICAgIHJldHVybjsNCiAgICAgIH0NCiAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHtuYW1lOiJTZWFyY2giLHF1ZXJ5Ont3OnZhbH19KTsNCiAgICB9LA0KICB9DQogIA0KDQp9DQo="},{"version":3,"sources":["Menu.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAsCA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA","file":"Menu.vue","sourceRoot":"src/views/mainViews","sourcesContent":["<template>\r\n  \t<div class=\"menu\">\r\n      <!-- 搜索栏 -->\r\n  \t\t<div class=\"search\">\r\n  \t\t\t<form action=\"/\">\r\n\t\t\t  \t<van-search\r\n\t\t\t  \t  v-model=\"value\"\r\n\t\t\t  \t  show-action\r\n\t\t\t  \t  placeholder=\"请输入种类进行搜索\"\r\n            @search=\"onSearch\" \r\n\t\t\t  \t/>\r\n\t\t\t  </form>\r\n  \t\t</div>\r\n  \t\t<!-- banner图 -->\r\n  \t\t<van-swipe class=\"my-swipe\" :autoplay=\"3000\" indicator-color=\"skyblue\">\r\n\t\t\t  <van-swipe-item v-for=\"(item,index) in swipesrc\"><img :src=\"item.bannerImg\" alt=\"\"></van-swipe-item>\r\n\t\t  </van-swipe>\r\n      <!-- 选择列表 -->\r\n  \t\t<van-dropdown-menu>\r\n  \t\t\t  <van-dropdown-item v-model=\"value1\" :options=\"option1\" @change=\"changeVlue\"/>\r\n  \t\t\t  <van-dropdown-item v-model=\"value2\" :options=\"option2\" />\r\n  \t\t</van-dropdown-menu>\r\n      <!-- 显示菜单 -->\r\n  \t\t<div class=\"content-menu\">\r\n  \t\t\t<van-card\r\n  \t\t\t\t  v-for=\"(item,index) in productData\"\r\n  \t\t\t\t  :key=\"index\"\r\n  \t\t\t  \t:price=\"item.price\"\r\n  \t\t\t  \t:desc=\"item.desc\"\r\n  \t\t\t  \t:title=\"item.name\"\r\n  \t\t\t  \t:thumb=\"item.smallImg\"\r\n            @click=\"commitid(item)\"\r\n  \t\t\t/>\r\n  \t\t</div>\r\n  \t</div>\r\n</template>\r\n\r\n<script>\r\n//配置全局的vuex引入\r\nimport {createNamespacedHelpers} from 'vuex'\r\n//引入全局的state\r\nconst {mapState} = createNamespacedHelpers('menuModule')\r\n\r\nimport { Toast } from 'vant';\r\n\r\nexport default {\r\n  name: 'Menu',\r\n  data(){\r\n  \treturn{\r\n  \t\t// 搜索\r\n  \t\tvalue:\"\",\r\n  \t\t// 切换菜单\r\n  \t\t// 新品的菜单\r\n  \t\tvalue1: 0,\r\n  \t\t// 排序的菜单\r\n\t    value2: 'a',\r\n\t    // 新品菜单选项\r\n\t    option1: [],\r\n\t    // 排序菜单选项\r\n\t    option2: [\r\n\t      { text: '默认排序', value: 'a' },\r\n\t      { text: '价格从高到低', value: 'b' },\r\n\t      { text: '价格从低到高', value: 'c' },\r\n\t    ],\r\n\t    // 商品数据处理\r\n\t    productData:[],\r\n\t    // banner图\r\n\t    swipesrc:[],\r\n  \t}\r\n  },\r\n   mounted(){\r\n      // 获取banner图\r\n   \t\tthis.getBnner();\r\n      // 获取类别\r\n  \t\tthis.getType();\r\n      // 在localStorage中放pid为商品详情页做准备\r\n      localStorage.setItem('pid',JSON.stringify(\"\"));\r\n  },\r\n  computed: {\r\n    // 全局store的处理\r\n    \t...mapState(['bannerDataCache','option1Cache'])\r\n\r\n  },\r\n\r\n  methods:{\r\n  \t// 获取banner数据\r\n  \tgetBnner(){\r\n\r\n  \t\t//获取vuex的banner缓存数据，如果存在缓存数据，则不发起请求，否则发起请求\r\n\t    if (this.bannerDataCache.length > 0) {\r\n\t        this.swipesrc = this.bannerDataCache;\r\n\t        return;\r\n\t    }\r\n\r\n\t    //开启加载提示\r\n\t    Toast.loading({\r\n\t      \tmessage: \"加载中...\",\r\n\t      \tforbidClick: true,\r\n\t      \t//延迟自动关闭加载提示，如果该值为0，则不会自动关闭\r\n\t      \tduration: 0\r\n\t    });\r\n\r\n      // 获取banner图的数据\r\n\r\n\t \t  this.axios({\r\n\t  \t\t\turl:\"http://1.zsduan.applinzi.com/wm/banner/banner.php\",\r\n\t  \t\t\tmethod:'get'\r\n\t  \t\t}).then(result => {\r\n\t  \t\t\tif (result.data.code == 300 ) {\r\n\t  \t\t\t\tToast.clear();\r\n\t  \t\t\t\tthis.swipesrc = result.data.result;\r\n\t\t            //缓存banner数据在vuex中\r\n\t\t            this.$store.commit('menuModule/changeData', {\r\n\t\t              key: 'bannerDataCache',\r\n\t\t              value: result.data.result\r\n\t\t            })\r\n\t  \t\t\t}\r\n\t  \t\t}).catch(err => {\r\n\t  \t\t\tToast.clear();\r\n\t  \t\t\t\r\n\t  \t})\r\n  \t},\r\n\r\n    // 获取类别的数据\r\n  \tgetType(){\r\n  \t\t//获取vuex的选择条件缓存数据，如果存在缓存数据，则不发起请求，否则发起请求\r\n\t    if (this.option1Cache.length > 0) {\r\n\t        this.option1 = this.option1Cache;\r\n\t        this.getProductByType('isHot');\r\n\t        return;\r\n\t    }\r\n\r\n\t    //开启加载提示\r\n\t    Toast.loading({\r\n\t      \tmessage: \"加载中...\",\r\n\t      \tforbidClick: true,\r\n\t      \t//延迟自动关闭加载提示，如果该值为0，则不会自动关闭\r\n\t      \tduration: 0\r\n\t    });\r\n\r\n      // 开始获取类别\r\n  \t\tthis.axios({\r\n  \t\t\tmethod:\"get\",\r\n  \t\t\turl:\"/type\",\r\n  \t\t\tparams:{\r\n  \t\t\t\tappkey:this.appkey\r\n  \t\t\t}\r\n  \t\t}).then(result => {\r\n  \t\t\tToast.clear();\r\n        // 进行类别的数据处理\r\n  \t\t\tresult.data.result.forEach(v => {\r\n            v.text = \"\";\r\n            v.value = 0;\r\n          })\r\n        // 讲返回的类别赋值给数组\r\n  \t\t\tfor (var i = 0; i < result.data.result.length; i++) {\r\n  \t\t\t\t\r\n  \t\t\t\tresult.data.result[i].value = i+1;\r\n  \t\t\t\tresult.data.result[i].text = result.data.result[i].typeDesc;\r\n  \t\t\t}\r\n        // 推一个数组在最前面\r\n  \t\t\tresult.data.result.unshift({type: 'isHot', typeDesc: '最新推荐', isActive: true,text:\"最新推荐\",value:0});\r\n  \t\t\tthis.option1 = result.data.result;\r\n\r\n\r\n  \t\t\t//缓存选择数据在vuex中\r\n\t\t    this.$store.commit('menuModule/changeData', {\r\n\t\t      key: 'option1Cache',\r\n\t\t      value: result.data.result\r\n\t\t    })\r\n        // 调用处理菜单函数\r\n  \t\t\tthis.getProductByType('isHot');\r\n  \t\t}).catch(err => {\r\n  \t\t\tToast.clear();\r\n  \t\t\t\r\n  \t\t})\r\n  \t},\r\n  \t// 改变选择的值，老获取商品的数据\r\n  \tchangeVlue(){\t\t\r\n  \t\tthis.getProductByType(this.option1[this.value1].type);\r\n  \t},\r\n\r\n  \t//根据类型获取商品数据\r\n    getProductByType(item) {\r\n      this.productData = [];\r\n\r\n      let params = {\r\n        appkey: this.appkey,\r\n        key: 'type',\r\n        value: item\r\n      };\r\n\r\n      //最近推荐\r\n      if (item == 'isHot') {\r\n        params.key = 'isHot';\r\n        params.value = 1\r\n      }\r\n\r\n      //开启加载提示\r\n\t    Toast.loading({\r\n\t      message: \"加载中...\",\r\n\t      forbidClick: true,\r\n\t      //延迟自动关闭加载提示，如果该值为0，则不会自动关闭\r\n\t      duration: 0\r\n\t    });\r\n\r\n      // 开始处理菜单\r\n      this.axios({\r\n        method: 'GET',\r\n        url: '/typeProducts',\r\n        params\r\n      }).then(result => {\r\n        if (result.data.code == 500) {\r\n        \tToast.clear();\r\n        \tToast.clear();\r\n            this.productData = result.data.result;\r\n        }\r\n      }).catch(err => {\r\n        \r\n      })\r\n      \r\n    },\r\n    // 发送pid给详情页\r\n    commitid(item){\r\n      localStorage.setItem('pid',JSON.stringify(item.pid));\r\n      this.$router.push({name:\"Detail\"});\r\n    },\r\n    // 搜索处理\r\n    onSearch(val) {\r\n      if (this.value == \"\") {\r\n        Toast(\"请输入搜索内容\");\r\n        return;\r\n      }\r\n      this.$router.push({name:\"Search\",query:{w:val}});\r\n    },\r\n  }\r\n  \r\n\r\n}\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n  .my-swipe .van-swipe-item {\r\n    color: #fff;\r\n    font-size: 20px;\r\n    line-height: 150px;\r\n    text-align: center;\r\n    height: 200px;\r\n    margin-top: 54px;\r\n    img{\r\n    \twidth: 100%;\r\n    \theight: 100%;\r\n    }\r\n  }\r\n  .menu{\r\n  \tbackground: #ddd;\r\n   \tpadding-bottom: 50px;\r\n    .search{\r\n      position: fixed;\r\n      width: 100%;\r\n      z-index: 2;\r\n      top:0;\r\n    }\r\n  }\r\n  // 设置菜单可以滑动\r\n  .content-menu{\r\n  \toverflow-y: auto;\r\n  }\r\n  // 改变价格颜色\r\n  .van-card__price{\r\n  \tcolor: red;\r\n  }\r\n\r\n</style>"]}]}