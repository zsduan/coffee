{"remainingRequest":"D:\\培训\\提交项目\\my-project\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\培训\\提交项目\\my-project\\src\\views\\mainViews\\Shopcart.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\培训\\提交项目\\my-project\\src\\views\\mainViews\\Shopcart.vue","mtime":1594429957225},{"path":"D:\\培训\\提交项目\\my-project\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\培训\\提交项目\\my-project\\node_modules\\thread-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\培训\\提交项目\\my-project\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\培训\\提交项目\\my-project\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\培训\\提交项目\\my-project\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgeyBUb2FzdCB9IGZyb20gJ3ZhbnQnOw0KDQpleHBvcnQgZGVmYXVsdCB7DQogIG5hbWU6ICdTaG9wY2FydCcsDQogIG1vdW50ZWQoKXsNCiAgCXRoaXMuZmluZEFsbFNob3BjYXJ0KCk7DQogICAgLy8g5ZyobG9jYWxTdG9yYWdl5Lit5pS+c2lkc+S4uuaUr+S7mOmhtemdouWBmuWHhuWkhw0KICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdwdXRzaWRzJyxKU09OLnN0cmluZ2lmeSgiIikpOw0KICB9LA0KICBkYXRhKCl7DQogIAlyZXR1cm57DQogIAkJLy8g5ZWG5ZOB6YCJ5Y+W5pWw5o2uDQogIAkJY29tbW9kaXR5RGF0YTpbXSwNCiAgICAgIC8vIOWKoOi9veaJgOacieWVhuWTgeaVsOaNrg0KICAgICAgYWxsU2hvcGNhcnREYXRhOiBbXSwNCiAgCQkvLyDlhajpgInmlbDmja4NCiAgCQljaGVja2VkOiIiLA0KICAJCS8vIOWIpOaWreWFqOmAieaVsOaNrg0KICAJCWNoZWNrYm94VmFsdWU6W10sDQogIAkJLy8g5q2l6L+b5ZmodmFsdWUNCiAgCQlTdGVwcGVyOiIiLA0KICAgICAgLy8gbGlzdOWKoOi9veaVsOaNrg0KICAgICAgbG9hZE9wdGlvbnM6ew0KICAgICAgICBpc0xvYWRpbmc6dHJ1ZSwNCg0KICAgICAgICBpc0ZpbmlzaGVkOmZhbHNlDQogICAgICB9LA0KICAgICAgLy8g5q+P5qyh5Yqg6L29NeadoeaVsOaNrg0KICAgICAgbG9hZENvdW50OiA1LA0KICAgICAgLy8g5piv5ZCm5Y+v5Lul5o+Q5LqkDQogICAgICBpc1NidW1pdDp0cnVlLA0KICAJCS8vIOeuoeeQhg0KICAJCW1hbmFnZTp0cnVlLA0KICAJCS8vIOS/neWtmOS7t+agvA0KICAJCXByaWNlOjAuMDAsDQogICAgICAvLyDmlL5zaWRz5pWw57uE5pa55L6/5Lyg5Y+CDQogICAgICBnZXRTaWRzOltdLA0KICAJfQ0KICB9LA0KICBtZXRob2RzOnsNCiAgCS8vIOWbnuWIsOiPnOWNlQ0KICAJZ29NZW51KCl7DQogIAkJdGhpcy4kcm91dGVyLnB1c2goe25hbWU6Ik1lbnUifSk7DQogIAl9LA0KICAJLy8g5YWo6YCJDQogIAljaGVja0FsbCgpIHsNCiAgICAgIAl0aGlzLiRyZWZzLmNoZWNrYm94R3JvdXAudG9nZ2xlQWxsKHRoaXMuY2hlY2tlZCk7DQogICAgICAJdGhpcy50b3RhbEFuZEdldHNpZCgpOw0KICAgIH0sDQogICAgLy8g5p+l55yL5piv5ZCm5pS55Y+YDQogICAgY2hhbmdlVmFsdWUoKXsNCiAgICAgIGlmICh0aGlzLmNoZWNrYm94VmFsdWUubGVuZ3RoID4gMCkgew0KICAgICAgICB0aGlzLmlzU2J1bWl0ID0gZmFsc2U7DQogICAgICAgIHJldHVybjsNCiAgICAgIH0NCiAgICAgIHRoaXMuaXNTYnVtaXQgPSB0cnVlOw0KICAgIH0sDQogICAgLy8g566h55CG6LSt54mp6L2mDQogIAltYW5hZ2VzKCl7DQogIAkJdGhpcy5tYW5hZ2UgPSAhdGhpcy5tYW5hZ2U7DQogIAl9LA0KICAJLy8g5p+l6K+i6LSt54mp6L2mDQogIAkvLyDmn6Xor6LotK3nianovabmnaHmlbANCiAgICBmaW5kQWxsU2hvcGNhcnQoKXsNCiAgICAgIC8vIOiOt+WPluacrOWcsOaVsOaNrg0KICAgICAgICBsZXQgdG9rZW5TdHJpbmcgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgiX19UayIpOw0KICAgICAgICBpZiAodG9rZW5TdHJpbmcgPT0gdW5kZWZpbmVkKSB7DQogICAgICAgICAgdGhpcy4kcm91dGVyLnB1c2goe25hbWU6IkxvZ2luIn0pOw0KICAgICAgICB9DQogICAgICAgIC8v5byA5ZCv5Yqg6L295o+Q56S6DQogICAgICAgIFRvYXN0LmxvYWRpbmcoew0KICAgICAgICAgICAgbWVzc2FnZTogIuWKoOi9veS4rS4uLiIsDQogICAgICAgICAgICBmb3JiaWRDbGljazogdHJ1ZSwNCiAgICAgICAgICAgIC8v5bu26L+f6Ieq5Yqo5YWz6Zet5Yqg6L295o+Q56S677yM5aaC5p6c6K+l5YC85Li6MO+8jOWImeS4jeS8muiHquWKqOWFs+mXrQ0KICAgICAgICAgICAgZHVyYXRpb246IDANCiAgICAgICAgfSk7DQoNCiAgICAgICAgdGhpcy5heGlvcyh7DQogICAgICAgICAgbWV0aG9kOiJnZXQiLA0KICAgICAgICAgIHVybDoiL2ZpbmRBbGxTaG9wY2FydCIsDQogICAgICAgICAgcGFyYW1zOnsNCiAgICAgICAgICAgIGFwcGtleTp0aGlzLmFwcGtleSwNCiAgICAgICAgICAgIHRva2VuU3RyaW5nDQogICAgICAgICAgfQ0KICAgICAgICB9KS50aGVuKHJlc3VsdCA9PiB7DQogICAgICAgICAgVG9hc3QuY2xlYXIoKTsNCiAgICAgICAgICBUb2FzdChyZXN1bHQuZGF0YS5tc2cpOw0KICAgICAgICAgIHRoaXMuYWxsU2hvcGNhcnREYXRhID0gcmVzdWx0LmRhdGEucmVzdWx0Ow0KDQogICAgICAgICAgdGhpcy5jb21tb2RpdHlEYXRhICA9IHRoaXMuYWxsU2hvcGNhcnREYXRhLnNwbGljZSgwLCB0aGlzLmxvYWRDb3VudCk7DQoNCiAgICAgICAgICAvL+agueaNruaIquWPlui0reeJqei9puWVhuWTgeaVsOmHj+WSjOaAu+i0reeJqei9puWVhuWTgeaVsOmHj+WIpOaWreaYr+WQpuWKoOi9veWujOaIkA0KICAgICAgICAgIGlmICh0aGlzLmFsbFNob3BjYXJ0RGF0YS5sZW5ndGggPiAwKSB7DQogICAgICAgICAgICB0aGlzLmxvYWRPcHRpb25zLmlzTG9hZGluZyA9IGZhbHNlOw0KICAgICAgICAgIH1lbHNlIHsNCiAgICAgICAgICAgIHRoaXMubG9hZE9wdGlvbnMuaXNGaW5pc2hlZCA9IHRydWU7DQogICAgICAgICAgfQ0KICAgICAgICB9KS5jYXRjaChlcnIgPT4gew0KICAgICAgICAgIFRvYXN0LmNsZWFyKCk7DQogICAgICAgICAgDQogICAgICAgIH0pDQoNCiAgICAgIA0KICAgIH0sDQogICAgLy8g6K6h566X5oC76YeR6aKd5ZKM6I635Y+W6YCJ5oup6aG5DQogICAgdG90YWxBbmRHZXRzaWQoKXsNCiAgICAgIC8vIOiuoeeul+S4remHkeminQ0KICAgIAlsZXQgYXJyID0gW107DQogICAgCXRoaXMucHJpY2UgPSAwLjAwOw0KICAgIAlmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuY2hlY2tib3hWYWx1ZS5sZW5ndGg7IGkrKykgew0KICAgIAkJbGV0IGluZGV4ID0gdGhpcy5jaGVja2JveFZhbHVlW2ldOw0KICAgIAkJYXJyLnB1c2gocGFyc2VGbG9hdCh0aGlzLmNvbW1vZGl0eURhdGFbaW5kZXhdLnByaWNlKSAqIHRoaXMuY29tbW9kaXR5RGF0YVtpbmRleF0uY291bnQpDQogICAgCX0NCiAgICAJZm9yIChsZXQgaSA9IDA7IGkgPCBhcnIubGVuZ3RoOyBpKyspIHsNCiAgICAJCXRoaXMucHJpY2UgKz0gIGFycltpXSAqIDEwMDsNCiAgICAJfQ0KDQogICAgICAvLyDojrflj5bpgInmi6npobkNCiAgICAgIGxldCBzaWRzID0gW107DQogICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuY2hlY2tib3hWYWx1ZS5sZW5ndGg7IGkrKykgew0KICAgICAgICAgICAgbGV0IGluZGV4ID0gdGhpcy5jaGVja2JveFZhbHVlW2ldOw0KICAgICAgICAgICAgbGV0IG51bSA9IHRoaXMuY29tbW9kaXR5RGF0YVtpbmRleF0uc2lkOw0KICAgICAgICAgICAgc2lkcy5wdXNoKG51bSk7DQogICAgICB9DQogICAgICBpZiAoc2lkcy5sZW5ndGggPT0gMCApIHsNCiAgICAgICAgLy8gVG9hc3QoIuaCqOi/mOayoeaciemAieaLqeWVhuWTgSIpOw0KICAgICAgICByZXR1cm47DQogICAgICB9DQogICAgICB0aGlzLmdldFNpZHMgPSBKU09OLnN0cmluZ2lmeShzaWRzKTsNCg0KDQogICAgfSwNCg0KICAgIHVwZGF0YUNvdW50KGluZGV4KXsNCiAgICAJLy8g6YeN5paw6K6h566X5Lu35qC8DQogICAgCXRoaXMudG90YWxBbmRHZXRzaWQoKTsNCiAgICAJLy8g6I635Y+W5pys5Zyw5pWw5o2uDQogICAgICAgIGxldCB0b2tlblN0cmluZyA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCJfX1RrIik7DQoNCiAgICAgICAgLy/lvIDlkK/liqDovb3mj5DnpLoNCiAgICAgICAgVG9hc3QubG9hZGluZyh7DQogICAgICAgICAgICBtZXNzYWdlOiAi5Yqg6L295LitLi4uIiwNCiAgICAgICAgICAgIGZvcmJpZENsaWNrOiB0cnVlLA0KICAgICAgICAgICAgLy/lu7bov5/oh6rliqjlhbPpl63liqDovb3mj5DnpLrvvIzlpoLmnpzor6XlgLzkuLow77yM5YiZ5LiN5Lya6Ieq5Yqo5YWz6ZetDQogICAgICAgICAgICBkdXJhdGlvbjogMA0KICAgICAgICB9KTsNCg0KDQogICAgICAgIC8vIOivt+axguaVsOaNrg0KICAgICAgICB0aGlzLmF4aW9zKHsNCiAgICAgICAgCW1ldGhvZDoiUE9TVCIsDQogICAgICAgIAl1cmw6Ii9tb2RpZnlTaG9wY2FydENvdW50IiwNCiAgICAgICAgCWRhdGE6ew0KICAgICAgICAJCWFwcGtleTp0aGlzLmFwcGtleSwNCiAgICAgICAgCQl0b2tlblN0cmluZywNCiAgICAgICAgCQlzaWQ6dGhpcy5jb21tb2RpdHlEYXRhW2luZGV4XS5zaWQsDQogICAgICAgIAkJY291bnQ6dGhpcy5jb21tb2RpdHlEYXRhW2luZGV4XS5jb3VudA0KICAgICAgICAJfQ0KICAgICAgICB9KS50aGVuKHJlc3VsdCA9PiB7DQogICAgICAgIAlUb2FzdC5jbGVhcigpOw0KICAgICAgICAJaWYgKHJlc3VsdC5kYXRhLmNvZGUgIT0gNjAwMCkgew0KICAgICAgICAJCVRvYXN0KCLnvZHnu5zlh7rkuobngrnlsI/pl67popgiKTsNCiAgICAgICAgCX0NCiAgICAgICAgfSkuY2F0Y2goZXJyID0+IHsNCiAgICAgICAgCVRvYXN0LmNsZWFyKCk7DQogICAgICAgIAkNCiAgICAgICAgfSkNCg0KICAgIH0sDQogICAgLy8g5Yig6Zmk5pWw5o2uDQogICAgZGVsRGF0YShpbmRleCl7DQogICAgCS8vIOiOt+WPluacrOWcsOaVsOaNrg0KICAgICAgICBsZXQgdG9rZW5TdHJpbmcgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgiX19UayIpOw0KDQogICAgICAgIGxldCBhcnIgPSBbXTsNCg0KICAgICAgICBpZiAoaW5kZXggPT0gMCB8fCBpbmRleCkgew0KICAgICAgICAgIGFyciA9IEpTT04uc3RyaW5naWZ5KFt0aGlzLmNvbW1vZGl0eURhdGFbaW5kZXhdLnNpZF0pOw0KICAgICAgICB9ZWxzZSB7DQogICAgICAgICAgYXJyID0gdGhpcy5nZXRTaWRzOw0KICAgICAgICB9DQoNCiAgICAgICAgLy/lvIDlkK/liqDovb3mj5DnpLoNCiAgICAgICAgVG9hc3QubG9hZGluZyh7DQogICAgICAgICAgICBtZXNzYWdlOiAi5Yqg6L295LitLi4uIiwNCiAgICAgICAgICAgIGZvcmJpZENsaWNrOiB0cnVlLA0KICAgICAgICAgICAgLy/lu7bov5/oh6rliqjlhbPpl63liqDovb3mj5DnpLrvvIzlpoLmnpzor6XlgLzkuLow77yM5YiZ5LiN5Lya6Ieq5Yqo5YWz6ZetDQogICAgICAgICAgICBkdXJhdGlvbjogMA0KICAgICAgICB9KTsNCg0KICAgICAgICAvLyDor7fmsYLmlbDmja4NCiAgICAgICAgdGhpcy5heGlvcyh7DQogICAgICAgIAltZXRob2Q6IlBPU1QiLA0KICAgICAgICAJdXJsOiIvZGVsZXRlU2hvcGNhcnQiLA0KICAgICAgICAJZGF0YTp7DQogICAgICAgIAkJYXBwa2V5OnRoaXMuYXBwa2V5LA0KICAgICAgICAJCXRva2VuU3RyaW5nLA0KICAgICAgICAJCXNpZHM6YXJyLA0KICAgICAgICAJfQ0KICAgICAgICB9KS50aGVuKHJlc3VsdCA9PiB7DQogICAgICAgIAlUb2FzdC5jbGVhcigpOw0KICAgICAgICAgIFRvYXN0LnN1Y2Nlc3MoJ+WIoOmZpOaIkOWKnycpOw0KICAgICAgICAJdGhpcy5maW5kQWxsU2hvcGNhcnQoKTsNCiAgICAgICAgfSkuY2F0Y2goZXJyID0+IHsNCiAgICAgICAgCVRvYXN0LmNsZWFyKCk7DQogICAgICAgICAgVG9hc3QuZmFpbCgn5Yig6Zmk5aSx6LSlJyk7DQogICAgICAgIAkNCiAgICAgICAgfSk7DQoNCiAgICAgICAgLy8g6YeN5paw6K6h566X5Lu35qC8DQogICAgCSAgIHRoaXMudG90YWxBbmRHZXRzaWQoKTsNCiAgICB9LA0KDQogICAgLy8g6Lez6L2s6YCJ5oup5Zyw5Z2ADQogICAgZ29BZGRyZXNzKCl7DQogICAgICAvLyDlnKhsb2NhbFN0b3JhZ2XkuK3mlL5waWTkuLrllYblk4Hor6bmg4XpobXlgZrlh4blpIcNCiAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdwdXRzaWRzJyx0aGlzLmdldFNpZHMpOw0KICAgICAgdGhpcy4kcm91dGVyLnB1c2goe25hbWU6IlBsYWNlT3JkZXIifSk7DQogICAgfSwNCiAgICAvLyDliKTmlq3liqDovb3kuK0NCiAgICBsb2FkRGF0YSgpew0KICAgICAgdGhpcy5jb21tb2RpdHlEYXRhLnB1c2goLi4udGhpcy5hbGxTaG9wY2FydERhdGEuc3BsaWNlKDAsIHRoaXMubG9hZENvdW50KSk7DQogICAgICBpZiAodGhpcy5hbGxTaG9wY2FydERhdGEubGVuZ3RoID09IDApIHsNCg0KICAgICAgICAvL+ayoeacieaVsOaNruWPr+WKoOi9vQ0KICAgICAgICB0aGlzLmxvYWRPcHRpb25zLmlzTG9hZGluZyA9IHRydWU7DQogICAgICAgIHRoaXMubG9hZE9wdGlvbnMuaXNGaW5pc2hlZCA9IHRydWU7DQogICAgICB9DQogICAgfQ0KDQogIH0NCn0NCg=="},{"version":3,"sources":["Shopcart.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA2EA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA","file":"Shopcart.vue","sourceRoot":"src/views/mainViews","sourcesContent":["<template>\r\n  <div class=\"shopcart\">\r\n  \t<!-- 显示nav -->\r\n    <div>\r\n      <van-nav-bar title=\"购物车\" right-text=\"管理\" class=\"nav\" @click-right=\"manages\" @click-left=\"goMenu\">\r\n      \t<template #left>\r\n\t\t    <van-icon name=\"home-o\" size=\"24\" />\r\n\t\t</template>\r\n      </van-nav-bar>\r\n    </div>\r\n\r\n    <!-- 显示图片 -->\r\n    <div v-if=\"commodityData.length == 0\">\r\n    \t<van-empty description=\"购物车空空如也\">\r\n\t\t  \t<van-button color=\"#FE874E\" round class=\"bottom-button\" @click=\"goMenu\">去逛逛</van-button>\r\n\t\t  </van-empty>\r\n    </div>\r\n    <div v-else>\r\n      <van-list\r\n        v-model=\"loadOptions.isLoading\"\r\n        :finished=\"loadOptions.isFinished\"\r\n        finished-text=\"没有更多了\"\r\n        @load=\"loadData\"\r\n        :offset=\"50\"\r\n        class=\"shopcartList\"\r\n      >\r\n    \t<div class=\"list-item\">\r\n    \t\t<!-- 复选框 -->\r\n    \t\t<van-checkbox-group v-model=\"checkboxValue\" ref=\"checkboxGroup\" @change=\"changeValue\">\r\n    \t\t\t<!-- 显示商品 -->\r\n    \t\t\t<van-swipe-cell v-for=\"(item,index) in commodityData\" :key=\"index\">\r\n\t    \t\t\t<div class=\"checkbox clearfix\">\r\n\t\t\t\t\t\t<van-checkbox :name=\"index\" checked-color=\"#FE874E\" class=\"fl check\" @click=\"totalAndGetsid\"></van-checkbox>\r\n\t\t\t\t\t\t<div class=\"fl item-img\">\r\n\t\t\t\t\t\t\t<img :src=\"item.small_img\" alt=\"\">\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div class=\"content fr\">\r\n\t\t\t\t\t\t\t<div class=\"top\">\r\n\t\t\t\t\t\t\t\t<p>\r\n\t\t\t\t\t\t\t\t\t<span class=\"title\">{{item.name}}</span>\r\n\t\t\t\t\t\t\t\t\t<span class=\"flavor\">{{item.rule}}</span>\r\n\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t<p>\r\n\t\t\t\t\t\t\t\t\t<span class=\"english-name\">{{item.enname}}</span>\r\n\t\t\t\t\t\t\t\t</p>\t\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div class=\"bottom clearfix\">\r\n\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t<span class=\"fl price\">￥{{item.price}}</span>\r\n\t\t\t\t\t\t\t\t\t<span class=\"fr stepper\">\r\n\t\t\t\t\t\t\t\t\t\t<van-stepper v-model=\"item.count\" integer @change=\"updataCount(index)\"/>\r\n\t\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t    \t\t\t</div>\t    \t\t\r\n\t\t\t\t\t<template #right>\r\n\t\t\t\t  \t\t<van-button square text=\"删除\" type=\"danger\" class=\"delete-button\" @click=\"delData(index)\"/>\r\n\t\t\t\t\t</template>\r\n\t\t\t\t</van-swipe-cell>\t\t\t\t\r\n\t\t\t </van-checkbox-group>\r\n    \t</div>\r\n    </van-list>\r\n      <!-- 提交订单 -->\r\n      <van-submit-bar :price=\"price\" button-text=\"提交订单\"  class=\"submit-bar\" v-if=\"manage\" @submit=\"goAddress\" :disabled=\"isSbumit\">\r\n          <van-checkbox v-model=\"checked\" checked-color=\"#FE874E\"  @click=\"checkAll\">全选</van-checkbox>\r\n      </van-submit-bar>\r\n      <van-submit-bar button-text=\"删除\"  class=\"submit-bar\" v-else @submit=\"delData\">\r\n          <van-checkbox v-model=\"checked\" checked-color=\"#FE874E\"  @click=\"checkAll\" class=\"check\">全选</van-checkbox>\r\n      </van-submit-bar>\t\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { Toast } from 'vant';\r\n\r\nexport default {\r\n  name: 'Shopcart',\r\n  mounted(){\r\n  \tthis.findAllShopcart();\r\n    // 在localStorage中放sids为支付页面做准备\r\n    localStorage.setItem('putsids',JSON.stringify(\"\"));\r\n  },\r\n  data(){\r\n  \treturn{\r\n  \t\t// 商品选取数据\r\n  \t\tcommodityData:[],\r\n      // 加载所有商品数据\r\n      allShopcartData: [],\r\n  \t\t// 全选数据\r\n  \t\tchecked:\"\",\r\n  \t\t// 判断全选数据\r\n  \t\tcheckboxValue:[],\r\n  \t\t// 步进器value\r\n  \t\tStepper:\"\",\r\n      // list加载数据\r\n      loadOptions:{\r\n        isLoading:true,\r\n\r\n        isFinished:false\r\n      },\r\n      // 每次加载5条数据\r\n      loadCount: 5,\r\n      // 是否可以提交\r\n      isSbumit:true,\r\n  \t\t// 管理\r\n  \t\tmanage:true,\r\n  \t\t// 保存价格\r\n  \t\tprice:0.00,\r\n      // 放sids数组方便传参\r\n      getSids:[],\r\n  \t}\r\n  },\r\n  methods:{\r\n  \t// 回到菜单\r\n  \tgoMenu(){\r\n  \t\tthis.$router.push({name:\"Menu\"});\r\n  \t},\r\n  \t// 全选\r\n  \tcheckAll() {\r\n      \tthis.$refs.checkboxGroup.toggleAll(this.checked);\r\n      \tthis.totalAndGetsid();\r\n    },\r\n    // 查看是否改变\r\n    changeValue(){\r\n      if (this.checkboxValue.length > 0) {\r\n        this.isSbumit = false;\r\n        return;\r\n      }\r\n      this.isSbumit = true;\r\n    },\r\n    // 管理购物车\r\n  \tmanages(){\r\n  \t\tthis.manage = !this.manage;\r\n  \t},\r\n  \t// 查询购物车\r\n  \t// 查询购物车条数\r\n    findAllShopcart(){\r\n      // 获取本地数据\r\n        let tokenString = localStorage.getItem(\"__Tk\");\r\n        if (tokenString == undefined) {\r\n          this.$router.push({name:\"Login\"});\r\n        }\r\n        //开启加载提示\r\n        Toast.loading({\r\n            message: \"加载中...\",\r\n            forbidClick: true,\r\n            //延迟自动关闭加载提示，如果该值为0，则不会自动关闭\r\n            duration: 0\r\n        });\r\n\r\n        this.axios({\r\n          method:\"get\",\r\n          url:\"/findAllShopcart\",\r\n          params:{\r\n            appkey:this.appkey,\r\n            tokenString\r\n          }\r\n        }).then(result => {\r\n          Toast.clear();\r\n          Toast(result.data.msg);\r\n          this.allShopcartData = result.data.result;\r\n\r\n          this.commodityData  = this.allShopcartData.splice(0, this.loadCount);\r\n\r\n          //根据截取购物车商品数量和总购物车商品数量判断是否加载完成\r\n          if (this.allShopcartData.length > 0) {\r\n            this.loadOptions.isLoading = false;\r\n          }else {\r\n            this.loadOptions.isFinished = true;\r\n          }\r\n        }).catch(err => {\r\n          Toast.clear();\r\n          \r\n        })\r\n\r\n      \r\n    },\r\n    // 计算总金额和获取选择项\r\n    totalAndGetsid(){\r\n      // 计算中金额\r\n    \tlet arr = [];\r\n    \tthis.price = 0.00;\r\n    \tfor (let i = 0; i < this.checkboxValue.length; i++) {\r\n    \t\tlet index = this.checkboxValue[i];\r\n    \t\tarr.push(parseFloat(this.commodityData[index].price) * this.commodityData[index].count)\r\n    \t}\r\n    \tfor (let i = 0; i < arr.length; i++) {\r\n    \t\tthis.price +=  arr[i] * 100;\r\n    \t}\r\n\r\n      // 获取选择项\r\n      let sids = [];\r\n      for (var i = 0; i < this.checkboxValue.length; i++) {\r\n            let index = this.checkboxValue[i];\r\n            let num = this.commodityData[index].sid;\r\n            sids.push(num);\r\n      }\r\n      if (sids.length == 0 ) {\r\n        // Toast(\"您还没有选择商品\");\r\n        return;\r\n      }\r\n      this.getSids = JSON.stringify(sids);\r\n\r\n\r\n    },\r\n\r\n    updataCount(index){\r\n    \t// 重新计算价格\r\n    \tthis.totalAndGetsid();\r\n    \t// 获取本地数据\r\n        let tokenString = localStorage.getItem(\"__Tk\");\r\n\r\n        //开启加载提示\r\n        Toast.loading({\r\n            message: \"加载中...\",\r\n            forbidClick: true,\r\n            //延迟自动关闭加载提示，如果该值为0，则不会自动关闭\r\n            duration: 0\r\n        });\r\n\r\n\r\n        // 请求数据\r\n        this.axios({\r\n        \tmethod:\"POST\",\r\n        \turl:\"/modifyShopcartCount\",\r\n        \tdata:{\r\n        \t\tappkey:this.appkey,\r\n        \t\ttokenString,\r\n        \t\tsid:this.commodityData[index].sid,\r\n        \t\tcount:this.commodityData[index].count\r\n        \t}\r\n        }).then(result => {\r\n        \tToast.clear();\r\n        \tif (result.data.code != 6000) {\r\n        \t\tToast(\"网络出了点小问题\");\r\n        \t}\r\n        }).catch(err => {\r\n        \tToast.clear();\r\n        \t\r\n        })\r\n\r\n    },\r\n    // 删除数据\r\n    delData(index){\r\n    \t// 获取本地数据\r\n        let tokenString = localStorage.getItem(\"__Tk\");\r\n\r\n        let arr = [];\r\n\r\n        if (index == 0 || index) {\r\n          arr = JSON.stringify([this.commodityData[index].sid]);\r\n        }else {\r\n          arr = this.getSids;\r\n        }\r\n\r\n        //开启加载提示\r\n        Toast.loading({\r\n            message: \"加载中...\",\r\n            forbidClick: true,\r\n            //延迟自动关闭加载提示，如果该值为0，则不会自动关闭\r\n            duration: 0\r\n        });\r\n\r\n        // 请求数据\r\n        this.axios({\r\n        \tmethod:\"POST\",\r\n        \turl:\"/deleteShopcart\",\r\n        \tdata:{\r\n        \t\tappkey:this.appkey,\r\n        \t\ttokenString,\r\n        \t\tsids:arr,\r\n        \t}\r\n        }).then(result => {\r\n        \tToast.clear();\r\n          Toast.success('删除成功');\r\n        \tthis.findAllShopcart();\r\n        }).catch(err => {\r\n        \tToast.clear();\r\n          Toast.fail('删除失败');\r\n        \t\r\n        });\r\n\r\n        // 重新计算价格\r\n    \t   this.totalAndGetsid();\r\n    },\r\n\r\n    // 跳转选择地址\r\n    goAddress(){\r\n      // 在localStorage中放pid为商品详情页做准备\r\n      localStorage.setItem('putsids',this.getSids);\r\n      this.$router.push({name:\"PlaceOrder\"});\r\n    },\r\n    // 判断加载中\r\n    loadData(){\r\n      this.commodityData.push(...this.allShopcartData.splice(0, this.loadCount));\r\n      if (this.allShopcartData.length == 0) {\r\n\r\n        //没有数据可加载\r\n        this.loadOptions.isLoading = true;\r\n        this.loadOptions.isFinished = true;\r\n      }\r\n    }\r\n\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n      \r\n    // 块的背景色\r\n    .goods-card {\r\n      margin: 0;\r\n      background-color: white;\r\n    }\r\n    // 删除\r\n    .delete-button {\r\n      height: 100%;\r\n      background: red ! important;\r\n    }\r\n    // 列表\r\n    .shopcartList{\r\n      padding-bottom: 110px; \r\n    }\r\n\r\n  \t.bottom-button {\r\n    \twidth: 160px;\r\n    \theight: 40px;\r\n  \t}\r\n    // 提交按钮\r\n    .van-button{\r\n      background: #FE874D;\r\n    }\r\n\r\n  \t.shopcart{\r\n  \t\twidth: 100%;\r\n  \t\tbackground: #ddd;\r\n  \t\theight: 617px;\r\n  \t}\r\n  \t.nav{\r\n  \t\twidth: 100%;\r\n  \t\tposition: fixed;\r\n  \t\ttop: 0;\r\n  \t\tz-index: 2;\r\n  \t}\r\n  \t.list-item{\r\n  \t\twidth: 100%;\r\n  \t\t// margin-bottom: 50px;\r\n  \t\tmargin-top:50px; \r\n  \t\t.checkbox{\r\n  \t\t\tbackground: #fff;\r\n  \t\t\twidth: 100%;\r\n  \t\t\tmargin: 5px 0;\r\n  \t\t\tpadding:5px 0; \r\n  \t\t\tborder-radius: 10px;\r\n  \t\t\t.check{\r\n  \t\t\t\tmargin-top:38px;\r\n  \t\t\t\tpadding:0 10px;  \r\n  \t\t\t}\r\n  \t\t\t.item-img{\r\n  \t\t\t\twidth: 25%;\r\n  \t\t\t\timg{\r\n  \t\t\t\t\twidth: 100%;\r\n  \t\t\t\t\tborder-radius: 10px;\r\n  \t\t\t\t}\r\n  \t\t\t}\r\n  \t\t\t.content{\r\n\t\t\t\twidth: 60%;\r\n\t\t\t\t.title{\r\n\t\t\t\t\tfont-size: 16px;\r\n\t\t\t\t}\r\n\t\t\t\t.flavor{\r\n\t\t\t\t\tpadding-left: 5px;\r\n\t\t\t\t\tcolor: #777;\r\n\t\t\t\t}\r\n\t\t\t\t.english-name{\r\n\t\t\t\t\tfont-size: 14px;\r\n\t\t\t\t\tcolor: #555;\r\n\t\t\t\t}\r\n\t\t\t\t.bottom{\r\n\t\t\t\t\tposition: absolute;\r\n\t\t\t\t\tbottom: 10px;\r\n\t\t\t\t\tfont-size: 20px;\r\n\t\t\t\t\twidth: 60%;\r\n\t\t\t\t\t.stepper{\r\n\t\t\t\t\t\tpadding-right: 10px;\r\n\t\t\t\t\t}\r\n\t\t\t\t\t.price{\r\n\t\t\t\t\t\tcolor: red;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n  \t\t\t}\r\n  \t\t}\r\n  \t}\r\n\r\n  \t.submit-bar{\r\n  \t\tmargin-bottom: 55px;\r\n  \t\t.check{\r\n  \t\t\tposition: absolute;\r\n  \t\t\tleft: 0;\r\n  \t\t\tpadding-left: 10px;\r\n  \t\t}\r\n  \t}\r\n\r\n    .nav{\r\n      width: 100%;\r\n      position: fixed;\r\n      top:0px;\r\n    }\r\n\r\n    // 地址弹出框\r\n    .content-show {\r\n      padding: 16px 16px 160px;\r\n    }\r\n</style>"]}]}